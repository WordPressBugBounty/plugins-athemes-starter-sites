{"version":3,"file":"v2_onboarding_src_components_Steps_Customize_js.js?ver=6a5e6445472c32f83cad","mappings":"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","sources":["webpack://athemes-starter-sites/./node_modules/@wordpress/icons/build-module/library/desktop.js","webpack://athemes-starter-sites/./node_modules/@wordpress/icons/build-module/library/mobile.js","webpack://athemes-starter-sites/./node_modules/@wordpress/icons/build-module/library/rotate-left.js","webpack://athemes-starter-sites/./node_modules/@wordpress/icons/build-module/library/tablet.js","webpack://athemes-starter-sites/./node_modules/@wordpress/icons/build-module/library/trash.js","webpack://athemes-starter-sites/./v2/onboarding/src/assets/images/crown.svg","webpack://athemes-starter-sites/./v2/onboarding/src/components/Controls/CustomColorsControl.js","webpack://athemes-starter-sites/./v2/onboarding/src/components/Controls/CustomizeUpsell.js","webpack://athemes-starter-sites/./v2/onboarding/src/components/Controls/DevicePreviewControl.js","webpack://athemes-starter-sites/./v2/onboarding/src/components/Controls/MediaUploadControl.js","webpack://athemes-starter-sites/./v2/onboarding/src/components/Controls/TypographyControl.js","webpack://athemes-starter-sites/./v2/onboarding/src/components/Steps/Customize.js","webpack://athemes-starter-sites/./v2/onboarding/src/data/color-schemes.js","webpack://athemes-starter-sites/./v2/onboarding/src/data/starter-sites.js","webpack://athemes-starter-sites/./v2/onboarding/src/data/typography-pairs.js","webpack://athemes-starter-sites/./v2/onboarding/src/utils/color-utils.js","webpack://athemes-starter-sites/./v2/onboarding/src/utils/config.js","webpack://athemes-starter-sites/./v2/onboarding/src/utils/image-utils.js","webpack://athemes-starter-sites/./v2/onboarding/src/utils/preload-helpers.js","webpack://athemes-starter-sites/./v2/onboarding/src/utils/preview-bridge.js","webpack://athemes-starter-sites/./v2/onboarding/src/utils/use-preview-sync.js"],"sourcesContent":["// packages/icons/src/library/desktop.tsx\nimport { Path, SVG } from \"@wordpress/primitives\";\nimport { jsx } from \"react/jsx-runtime\";\nvar desktop_default = /* @__PURE__ */ jsx(SVG, { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", children: /* @__PURE__ */ jsx(Path, { d: \"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z\" }) });\nexport {\n  desktop_default as default\n};\n//# sourceMappingURL=desktop.js.map\n","// packages/icons/src/library/mobile.tsx\nimport { Path, SVG } from \"@wordpress/primitives\";\nimport { jsx } from \"react/jsx-runtime\";\nvar mobile_default = /* @__PURE__ */ jsx(SVG, { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", children: /* @__PURE__ */ jsx(Path, { d: \"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z\" }) });\nexport {\n  mobile_default as default\n};\n//# sourceMappingURL=mobile.js.map\n","// packages/icons/src/library/rotate-left.tsx\nimport { Path, SVG } from \"@wordpress/primitives\";\nimport { jsx } from \"react/jsx-runtime\";\nvar rotate_left_default = /* @__PURE__ */ jsx(SVG, { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", children: /* @__PURE__ */ jsx(Path, { d: \"M12 4V2.2L9 4.8l3 2.5V5.5c3.6 0 6.5 2.9 6.5 6.5 0 2.9-1.9 5.3-4.5 6.2v.2l-.1-.2c-.4.1-.7.2-1.1.2l.2 1.5c.3 0 .6-.1 1-.2 3.5-.9 6-4 6-7.7 0-4.4-3.6-8-8-8zm-7.9 7l1.5.2c.1-1.2.5-2.3 1.2-3.2l-1.1-.9C4.8 8.2 4.3 9.6 4.1 11zm1.5 1.8l-1.5.2c.1.7.3 1.4.5 2 .3.7.6 1.3 1 1.8l1.2-.8c-.3-.5-.6-1-.8-1.5s-.4-1.1-.4-1.7zm1.5 5.5c1.1.9 2.4 1.4 3.8 1.6l.2-1.5c-1.1-.1-2.2-.5-3.1-1.2l-.9 1.1z\" }) });\nexport {\n  rotate_left_default as default\n};\n//# sourceMappingURL=rotate-left.js.map\n","// packages/icons/src/library/tablet.tsx\nimport { Path, SVG } from \"@wordpress/primitives\";\nimport { jsx } from \"react/jsx-runtime\";\nvar tablet_default = /* @__PURE__ */ jsx(SVG, { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", children: /* @__PURE__ */ jsx(Path, { d: \"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z\" }) });\nexport {\n  tablet_default as default\n};\n//# sourceMappingURL=tablet.js.map\n","// packages/icons/src/library/trash.tsx\nimport { Path, SVG } from \"@wordpress/primitives\";\nimport { jsx } from \"react/jsx-runtime\";\nvar trash_default = /* @__PURE__ */ jsx(SVG, { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", children: /* @__PURE__ */ jsx(\n  Path,\n  {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z\"\n  }\n) });\nexport {\n  trash_default as default\n};\n//# sourceMappingURL=trash.js.map\n","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgCrown = function SvgCrown(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 13,\n    fill: \"none\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#335EEA\",\n    d: \"M15.777 2.844a1.08 1.08 0 0 1-1.093 1.094h-.028l-1.394 7.601c-.055.41-.438.711-.848.711h-9.05c-.41 0-.794-.3-.848-.71L1.12 3.937h-.027A1.08 1.08 0 0 1 0 2.843C0 2.242.492 1.75 1.094 1.75c.574 0 1.094.492 1.094 1.094 0 .246-.11.465-.247.656l2.461 1.969a.875.875 0 0 0 1.313-.301L7.3 2.023c-.301-.191-.52-.52-.52-.93C6.781.494 7.273 0 7.902 0 8.504 0 8.97.492 8.97 1.094c0 .41-.219.738-.547.93l1.586 3.144c.246.492.902.629 1.34.3L13.78 3.5a1.3 1.3 0 0 1-.191-.656 1.08 1.08 0 0 1 1.094-1.094c.601 0 1.093.492 1.093 1.094\"\n  })));\n};\nexport { SvgCrown as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxNiAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xNS43NzczIDIuODQzNzVDMTUuNzc3MyAzLjQ3MjY2IDE1LjI4NTIgMy45Mzc1IDE0LjY4MzYgMy45Mzc1QzE0LjY1NjIgMy45Mzc1IDE0LjY1NjIgMy45Mzc1IDE0LjY1NjIgMy45Mzc1TDEzLjI2MTcgMTEuNTM5MUMxMy4yMDcgMTEuOTQ5MiAxMi44MjQyIDEyLjI1IDEyLjQxNDEgMTIuMjVIMy4zNjMyOEMyLjk1MzEyIDEyLjI1IDIuNTcwMzEgMTEuOTQ5MiAyLjUxNTYyIDExLjUzOTFMMS4xMjEwOSAzLjkzNzVDMS4xMjEwOSAzLjkzNzUgMS4xMjEwOSAzLjkzNzUgMS4wOTM3NSAzLjkzNzVDMC40OTIxODggMy45Mzc1IDAgMy40NzI2NiAwIDIuODQzNzVDMCAyLjI0MjE5IDAuNDkyMTg4IDEuNzUgMS4wOTM3NSAxLjc1QzEuNjY3OTcgMS43NSAyLjE4NzUgMi4yNDIxOSAyLjE4NzUgMi44NDM3NUMyLjE4NzUgMy4wODk4NCAyLjA3ODEyIDMuMzA4NTkgMS45NDE0MSAzLjVMNC40MDIzNCA1LjQ2ODc1QzQuODM5ODQgNS43OTY4OCA1LjQ2ODc1IDUuNjYwMTYgNS43MTQ4NCA1LjE2Nzk3TDcuMzAwNzggMi4wMjM0NEM3IDEuODMyMDMgNi43ODEyNSAxLjUwMzkxIDYuNzgxMjUgMS4wOTM3NUM2Ljc4MTI1IDAuNDkyMTg4IDcuMjczNDQgMCA3LjkwMjM0IDBDOC41MDM5MSAwIDguOTY4NzUgMC40OTIxODggOC45Njg3NSAxLjA5Mzc1QzguOTY4NzUgMS41MDM5MSA4Ljc1IDEuODMyMDMgOC40MjE4OCAyLjAyMzQ0TDEwLjAwNzggNS4xNjc5N0MxMC4yNTM5IDUuNjYwMTYgMTAuOTEwMiA1Ljc5Njg4IDExLjM0NzcgNS40Njg3NUwxMy43ODEyIDMuNUMxMy42NzE5IDMuMzA4NTkgMTMuNTg5OCAzLjA4OTg0IDEzLjU4OTggMi44NDM3NUMxMy41ODk4IDIuMjQyMTkgMTQuMDU0NyAxLjc1IDE0LjY4MzYgMS43NUMxNS4yODUyIDEuNzUgMTUuNzc3MyAyLjI0MjE5IDE1Ljc3NzMgMi44NDM3NVoiIGZpbGw9IiMzMzVFRUEiLz4NCjwvc3ZnPg==\";","/**\n * Custom Colors Control component.\n *\n * @package Athemes Starter Sites\n */\n\nimport { useState, useEffect, useRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { ColorPicker, Popover, Icon } from '@wordpress/components';\nimport { rotateLeft } from '@wordpress/icons';\nimport { generateColorScheme } from '../../utils/color-utils';\nimport previewBridge from '../../utils/preview-bridge';\n\n/**\n * Custom Colors Control component.\n *\n * @param {Object}   props                     Component props.\n * @param {string}   props.label               Label for the control.\n * @param {Array}    props.colorSchemes        Array of color scheme objects.\n * @param {string}   props.value               Currently selected color scheme ID.\n * @param {Function} props.onChange            Callback when selection changes.\n * @param {Function} props.onCustomColors      Callback when custom colors are generated.\n * @param {Object}   props.customColors        Previously saved custom colors (if any).\n * @param {string}   props.customPrimaryColor  Previously saved primary color (if any).\n * @param {Function} props.onPrimaryColorChange Callback when primary color changes.\n * @param {string}   props.themeName           Theme name (sydney, botiga, etc.) for generating CSS variables.\n * @return {JSX.Element} CustomColorsControl component.\n */\nfunction CustomColorsControl( { label, colorSchemes = [], value, onChange, onCustomColors, customColors = {}, customPrimaryColor: savedPrimaryColor = '', onPrimaryColorChange, themeName = 'sydney' } ) {\n\tconst [ customPrimaryColor, setCustomPrimaryColor ] = useState( savedPrimaryColor || '#cf2c2c' );\n\tconst [ generatedColors, setGeneratedColors ] = useState( customColors );\n\tconst [ contrastWarnings, setContrastWarnings ] = useState( [] );\n\tconst [ isPickerOpen, setIsPickerOpen ] = useState( false );\n\tconst colorSwatchRef = useRef( null );\n\t\n\t/**\n\t * Get the first 3 colors from a color scheme.\n\t *\n\t * @param {Object} scheme Color scheme object with colors property.\n\t * @return {Array} Array of color values.\n\t */\n\tconst getFirstThreeColors = ( scheme ) => {\n\t\tif ( ! scheme || ! scheme.colors ) {\n\t\t\treturn [];\n\t\t}\n\t\t\n\t\tconst colorValues = Object.values( scheme.colors );\n\t\treturn colorValues.slice( 0, 3 );\n\t};\n\n\t/**\n\t * Handle color scheme selection.\n\t *\n\t * @param {string} schemeId The ID of the selected color scheme.\n\t */\n\tconst handleSelect = ( schemeId ) => {\n\t\tif ( onChange ) {\n\t\t\tonChange( schemeId );\n\t\t}\n\t};\n\t\n\t/**\n\t * Handle reset action.\n\t */\n\tconst handleReset = () => {\n\t\tif ( onChange ) {\n\t\t\tonChange( '' );\n\t\t}\n\t\t// Reset custom colors state\n\t\tsetCustomPrimaryColor( '#cf2c2c' );\n\t\tsetGeneratedColors( {} );\n\t\tsetContrastWarnings( [] );\n\t\tif ( onCustomColors ) {\n\t\t\tonCustomColors( {} );\n\t\t}\n\t\tif ( onPrimaryColorChange ) {\n\t\t\tonPrimaryColorChange( '' );\n\t\t}\n\t\t// Reset colors in the preview iframe\n\t\tpreviewBridge.resetColors();\n\t};\n\t\n\t/**\n\t * Handle custom primary color change.\n\t *\n\t * @param {string} color The new primary color.\n\t */\n\tconst handlePrimaryColorChange = ( color ) => {\n\t\tsetCustomPrimaryColor( color );\n\t\t\n\t\t// Generate the color scheme with the theme name for proper CSS variable format\n\t\tconst scheme = generateColorScheme( color, themeName );\n\t\tsetGeneratedColors( scheme.colors );\n\t\tsetContrastWarnings( scheme.warnings );\n\t\t\n\t\t// Notify parent component of generated colors and primary color\n\t\tif ( onCustomColors ) {\n\t\t\tonCustomColors( scheme.colors );\n\t\t}\n\t\tif ( onPrimaryColorChange ) {\n\t\t\tonPrimaryColorChange( color );\n\t\t}\n\t};\n\t\n\t/**\n\t * Sync state with props from parent when they change.\n\t * Only sync if we're not on custom mode, or if the colors are actually custom-generated.\n\t */\n\tuseEffect( () => {\n\t\t// Only sync customColors from props if we're not in custom mode\n\t\t// When in custom mode, we generate colors from primary color instead\n\t\tif ( value !== 'custom' && customColors && Object.keys( customColors ).length > 0 ) {\n\t\t\tsetGeneratedColors( customColors );\n\t\t}\n\t}, [ customColors, value ] );\n\t\n\tuseEffect( () => {\n\t\tif ( savedPrimaryColor ) {\n\t\t\tsetCustomPrimaryColor( savedPrimaryColor );\n\t\t}\n\t}, [ savedPrimaryColor ] );\n\t\n\t/**\n\t * Generate colors when custom is selected.\n\t * This runs when switching to custom mode, ensuring we always show generated colors.\n\t */\n\tuseEffect( () => {\n\t\tif ( value === 'custom' ) {\n\t\t\t// Always regenerate colors when switching to custom mode\n\t\t\t// This ensures we show the palette based on the primary color, not the last scheme\n\t\t\tconst scheme = generateColorScheme( customPrimaryColor, themeName );\n\t\t\tsetGeneratedColors( scheme.colors );\n\t\t\tsetContrastWarnings( scheme.warnings );\n\t\t\t\n\t\t\t// Notify parent component of generated colors and primary color\n\t\t\tif ( onCustomColors ) {\n\t\t\t\tonCustomColors( scheme.colors );\n\t\t\t}\n\t\t\tif ( onPrimaryColorChange ) {\n\t\t\t\tonPrimaryColorChange( customPrimaryColor );\n\t\t\t}\n\t\t}\n\t}, [ value, customPrimaryColor, themeName, onCustomColors, onPrimaryColorChange ] );\n\n\treturn (\n\t\t<div className=\"atss-control atss-custom-colors-control\">\n\t\t\t{ label && (\n\t\t\t\t<div className=\"atss-control__label-wrapper flex items-center\">\n\t\t\t\t\t<label className=\"atss-control__label text-sm font-medium\">\n\t\t\t\t\t\t{ label }\n\t\t\t\t\t</label>\n\t\t\t\t\t{ value && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"atss-control__reset-button\"\n\t\t\t\t\t\t\tonClick={ handleReset }\n\t\t\t\t\t\t\taria-label={ __( 'Reset selection', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon={ rotateLeft } />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t\n\t\t\t<div className=\"atss-colors-control__grid\">\n\t\t\t\t{ colorSchemes.map( ( scheme ) => {\n\t\t\t\t\tconst colors = getFirstThreeColors( scheme );\n\t\t\t\t\tconst isSelected = value === scheme.id;\n\t\t\t\t\t\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tkey={ scheme.id }\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName={ `atss-colors-control__option ${ isSelected ? 'atss-colors-control__option--selected' : '' }` }\n\t\t\t\t\t\t\tonClick={ () => handleSelect( scheme.id ) }\n\t\t\t\t\t\t\taria-label={ scheme.name }\n\t\t\t\t\t\t\taria-pressed={ isSelected }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"atss-colors-control__circles\">\n\t\t\t\t\t\t\t\t{ colors.map( ( color, index ) => (\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\t\t\tclassName=\"atss-colors-control__circle\"\n\t\t\t\t\t\t\t\t\t\tstyle={ { backgroundColor: color } }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t\t\n\t\t\t\t{/* Custom color option - placeholder for future implementation */}\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName={ `atss-colors-control__option atss-colors-control__option--custom ${ value === 'custom' ? 'atss-colors-control__option--selected' : '' }` }\n\t\t\t\t\tonClick={ () => handleSelect( 'custom' ) }\n\t\t\t\t\taria-label={ __( 'Custom Colors', 'athemes-starter-sites' ) }\n\t\t\t\t\taria-pressed={ value === 'custom' }\n\t\t\t\t>\n\t\t\t\t\t<div className=\"atss-colors-control__circles\">\n\t\t\t\t\t\t<span className=\"atss-colors-control__circle atss-colors-control__circle--dashed\" />\n\t\t\t\t\t\t<span className=\"atss-colors-control__circle atss-colors-control__circle--dashed\" />\n\t\t\t\t\t\t<span className=\"atss-colors-control__circle atss-colors-control__circle--dashed\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t\n\t\t\t{/* Custom color picker panel */}\n\t\t\t{ value === 'custom' && (\n\t\t\t\t<div className=\"atss-colors-control__custom-panel\">\n\t\t\t\t\t<div className=\"atss-colors-control__picker-section\">\n\t\t\t\t\t\t<label className=\"atss-colors-control__picker-label\">\n\t\t\t\t\t\t\t{ __( 'Pick a Primary Color', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div className=\"atss-colors-control__picker-row\">\n\t\t\t\t\t\t\t<div className=\"atss-colors-control__picker-trigger\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tref={ colorSwatchRef }\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"atss-colors-control__color-swatch\"\n\t\t\t\t\t\t\t\t\tonClick={ () => setIsPickerOpen( ! isPickerOpen ) }\n\t\t\t\t\t\t\t\t\taria-expanded={ isPickerOpen }\n\t\t\t\t\t\t\t\t\taria-label={ __( 'Select color', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"atss-colors-control__color-preview\"\n\t\t\t\t\t\t\t\t\t\tstyle={ { backgroundColor: customPrimaryColor } }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"atss-colors-control__color-input\"\n\t\t\t\t\t\t\t\t\tvalue={ customPrimaryColor }\n\t\t\t\t\t\t\t\t\tonChange={ ( e ) => handlePrimaryColorChange( e.target.value ) }\n\t\t\t\t\t\t\t\t\tplaceholder=\"#cf2c2c\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ isPickerOpen && (\n\t\t\t\t\t\t\t\t\t<Popover\n\t\t\t\t\t\t\t\t\t\tanchor={ colorSwatchRef.current }\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t\toffset={ 10 }\n\t\t\t\t\t\t\t\t\t\tonClose={ () => setIsPickerOpen( false ) }\n\t\t\t\t\t\t\t\t\t\tclassName=\"atss-colors-control__picker-popover\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\t\t\tcolor={ customPrimaryColor }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ handlePrimaryColorChange }\n\t\t\t\t\t\t\t\t\t\t\tenableAlpha={ false }\n\t\t\t\t\t\t\t\t\t\t\tcopyFormat=\"hex\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t{/* Contrast warnings */}\n\t\t\t\t\t{ contrastWarnings.length > 0 && (\n\t\t\t\t\t\t<div className=\"atss-colors-control__warnings\">\n\t\t\t\t\t\t\t{ contrastWarnings.map( ( warning, index ) => (\n\t\t\t\t\t\t\t\t<p key={ index } className=\"atss-colors-control__warning\">\n\t\t\t\t\t\t\t\t\t{ warning.message }\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t\n\t\t\t\t\t{/* Generated color swatches */}\n\t\t\t\t\t{ Object.keys( generatedColors ).length > 0 && (\n\t\t\t\t\t\t<div className=\"atss-colors-control__swatches\">\n\t\t\t\t\t\t\t<div className=\"atss-colors-control__swatches-grid\">\n\t\t\t\t\t\t\t\t{ Object.entries( generatedColors ).map( ( [ key, color ] ) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={ key }\n\t\t\t\t\t\t\t\t\t\tclassName=\"atss-colors-control__swatch\"\n\t\t\t\t\t\t\t\t\t\tstyle={ { backgroundColor: color } }\n\t\t\t\t\t\t\t\t\t\ttitle={ color }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t\n\t\t\t\t\t{/* Helper text */}\n\t\t\t\t\t<p className=\"atss-colors-control__helper-text\">\n\t\t\t\t\t\t{ __( 'You can adjust the color palette later from the Customizer.', 'athemes-starter-sites' ) }\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default CustomColorsControl;\n\n","/**\r\n * Customize Upsell component.\r\n *\r\n * @package Athemes Starter Sites\r\n */\r\n\r\nimport { __ } from '@wordpress/i18n';\r\nimport { Button } from '@wordpress/components';\r\nimport crownIcon from '../../assets/images/crown.svg';\r\nimport { ACCOUNT_URL, DEFAULT_UPGRADE_URL } from '../../utils/config';\r\n\r\n/**\r\n * Customize Upsell component - displays pro template upgrade notice.\r\n *\r\n * @param {Object}  props           Component props.\r\n * @param {boolean} props.isVisible Whether to show the upsell.\r\n * @param {string}  props.upgradeUrl The upgrade URL with UTM parameters.\r\n * @return {JSX.Element|null} CustomizeUpsell component or null.\r\n */\r\nfunction CustomizeUpsell( { isVisible = false, upgradeUrl = DEFAULT_UPGRADE_URL } ) {\r\n\tif ( ! isVisible ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"atss-customize-upsell\">\r\n\t\t\t<div className=\"atss-customize-upsell__box\">\r\n\t\t\t<div className=\"atss-customize-upsell__header flex items-center gap-xs\">\r\n\t\t\t\t<img \r\n\t\t\t\t\tsrc={ crownIcon } \r\n\t\t\t\t\talt=\"\" \r\n\t\t\t\t\tclassName=\"atss-customize-upsell__icon\" \r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\twidth=\"16\"\r\n\t\t\t\t\theight=\"13\"\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"atss-customize-upsell__title font-medium text-sm\">\r\n\t\t\t\t\t{ __( 'Pro Template', 'athemes-starter-sites' ) }\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<p className=\"atss-customize-upsell__description text-xs text-secondary\">\r\n\t\t\t\t\t{ __( 'You\\'ve selected a Pro template! Unlock this design and many more by upgrading to Pro!', 'athemes-starter-sites' ) }\r\n\t\t\t\t</p>\r\n\t\t\t\t\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\thref={ upgradeUrl }\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\tclassName=\"atss-onboarding-wizard__btn w100 justify-center\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Upgrade to Pro', 'athemes-starter-sites' ) }\r\n\t\t\t\t\t<span className=\"atss-onboarding-wizard__btn-arrow\"></span>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t\r\n            <p className=\"atss-customize-upsell__note text-xs text-tertiary\">\r\n                { __( 'If you are an existing Pro user, please get the premium version of the plugin from your', 'athemes-starter-sites' ) }{ ' ' }\r\n                <a \r\n                    href={ ACCOUNT_URL }\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"atss-customize-upsell__link\"\r\n                >\r\n                    { __( 'account', 'athemes-starter-sites' ) }\r\n                </a>\r\n            </p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CustomizeUpsell;\r\n","/**\r\n * Device Preview Control component for switching between device preview modes.\r\n *\r\n * @package Athemes Starter Sites\r\n */\r\n\r\nimport { __experimentalToggleGroupControl as ToggleGroupControl, __experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon } from '@wordpress/components';\r\nimport { desktop, tablet, mobile } from '@wordpress/icons';\r\n\r\n/**\r\n * Device Preview Control component.\r\n *\r\n * @param {Object}   props          Component props.\r\n * @param {string}   props.label    Label for the control.\r\n * @param {string}   props.value    Currently selected device ('desktop', 'tablet', or 'mobile').\r\n * @param {Function} props.onChange Callback when device selection changes.\r\n * @return {JSX.Element} Device Preview Control component.\r\n */\r\nfunction DevicePreviewControl( { label, value = 'desktop', onChange } ) {\r\n\treturn (\r\n\t\t<div className=\"atss-device-preview-control atss-control atss-device-preview-control\">\r\n\t\t\t{ label && (\r\n\t\t\t\t<label className=\"atss-control__label text-sm font-medium\">\r\n\t\t\t\t\t{ label }\r\n\t\t\t\t</label>\r\n\t\t\t) }\r\n\t\t\t<ToggleGroupControl value={ value } onChange={ onChange } isBlock __next40pxDefaultSize __nextHasNoMarginBottom>\r\n\t\t\t\t<ToggleGroupControlOptionIcon\r\n\t\t\t\t\tvalue=\"desktop\"\r\n\t\t\t\t\ticon={ desktop }\r\n\t\t\t\t\tlabel=\"Desktop\"\r\n\t\t\t\t/>\r\n\t\t\t\t<ToggleGroupControlOptionIcon\r\n\t\t\t\t\tvalue=\"tablet\"\r\n\t\t\t\t\ticon={ tablet }\r\n\t\t\t\t\tlabel=\"Tablet\"\r\n\t\t\t\t/>\r\n\t\t\t\t<ToggleGroupControlOptionIcon\r\n\t\t\t\t\tvalue=\"mobile\"\r\n\t\t\t\t\ticon={ mobile }\r\n\t\t\t\t\tlabel=\"Mobile\"\r\n\t\t\t\t/>\r\n\t\t\t</ToggleGroupControl>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DevicePreviewControl;\r\n\r\n","/**\n * Media Upload Control component.\n *\n * @package Athemes Starter Sites\n */\n\nimport { __ } from '@wordpress/i18n';\nimport { Button, Icon } from '@wordpress/components';\nimport { trash } from '@wordpress/icons';\nimport PropTypes from 'prop-types';\n\n/**\n * MediaUploadControl component for uploading images via WordPress media library.\n *\n * @param {Object}   props             Component props.\n * @param {string}   props.label       Label for the control.\n * @param {string}   props.value       Current image URL.\n * @param {number}   props.id          Current image ID.\n * @param {Function} props.onChange    Callback when image is selected/changed.\n * @param {Function} props.onRemove    Callback when image is removed.\n * @param {string}   props.buttonText  Text for the upload button.\n * @param {string}   props.allowedTypes Allowed media types (default: 'image').\n * @return {JSX.Element} MediaUploadControl component.\n */\nfunction MediaUploadControl( {\n\tlabel = __( 'Upload Image', 'athemes-starter-sites' ),\n\tvalue = '',\n\tid = 0,\n\tonChange,\n\tonRemove,\n\tbuttonText = __( 'Select Image', 'athemes-starter-sites' ),\n\tallowedTypes = 'image',\n} ) {\n\t/**\n\t * Open WordPress media library.\n\t */\n\tconst openMediaLibrary = () => {\n\t\t// Check if wp.media is available\n\t\tif ( ! window.wp || ! window.wp.media ) {\n\t\t\tconsole.error( 'WordPress media library is not available' );\n\t\t\treturn;\n\t\t}\n\n\t\t// Create media frame\n\t\tconst frame = window.wp.media( {\n\t\t\tframe: 'select',\n\t\t\ttitle: __( 'Select or Upload Image', 'athemes-starter-sites' ),\n\t\t\tbutton: {\n\t\t\t\ttext: __( 'Select', 'athemes-starter-sites' ),\n\t\t\t},\n\t\t\tmultiple: false,\n\t\t\tlibrary: {\n\t\t\t\ttype: allowedTypes,\n\t\t\t},\n\t\t} );\n\n\t\t// When an image is selected, run callback\n\t\tframe.on( 'select', () => {\n\t\t\tconst attachment = frame.state().get( 'selection' ).first().toJSON();\n\n\t\t\tif ( onChange ) {\n\t\t\t\tonChange( {\n\t\t\t\t\turl: attachment.url,\n\t\t\t\t\tid: attachment.id,\n\t\t\t\t\talt: attachment.alt || '',\n\t\t\t\t\twidth: attachment.width || 0,\n\t\t\t\t\theight: attachment.height || 0,\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\t// Open the modal\n\t\tframe.open();\n\t};\n\n\t/**\n\t * Handle media removal.\n\t */\n\tconst handleRemove = () => {\n\t\tif ( onRemove ) {\n\t\t\tonRemove();\n\t\t} else if ( onChange ) {\n\t\t\tonChange( {\n\t\t\t\turl: '',\n\t\t\t\tid: 0,\n\t\t\t\talt: '',\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst filename = value ? value.split( '/' ).pop() : '';\n\n\treturn (\n\t\t<div className=\"atss-control atss-media-upload-control\">\n\t\t\t{ label && (\n\t\t\t\t<label className=\"atss-control__label text-sm font-medium\">\n\t\t\t\t\t{ label }\n\t\t\t\t</label>\n\t\t\t) }\n\n\t\t\t<div className=\"atss-media-upload-control__content\">\n\t\t\t\t{ ! value ? (\n\t\t\t\t\t<div className=\"atss-media-upload-control__buttons flex gap-xs flex-col justify-center\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ openMediaLibrary }\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tclassName=\"atss-media-upload-control__button w100 text-sm font-medium justify-center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ buttonText }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"atss-media-upload-control__selected\">\n\t\t\t\t\t\t<div className=\"atss-media-upload-control__file-info\">\n\t\t\t\t\t\t\t<div className=\"atss-media-upload-control__thumbnail\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={ value }\n\t\t\t\t\t\t\t\t\talt={ __( 'Preview', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span className=\"atss-media-upload-control__filename\">\n\t\t\t\t\t\t\t\t{ filename }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"atss-media-upload-control__actions\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={ openMediaLibrary }\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\tclassName=\"atss-media-upload-control__button atss-media-upload-control__button--change\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Change', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={ handleRemove }\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\tclassName=\"atss-media-upload-control__button atss-media-upload-control__button--remove\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon icon={ trash } size={ 12 } />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nMediaUploadControl.propTypes = {\n\tlabel: PropTypes.string,\n\tvalue: PropTypes.string,\n\tid: PropTypes.number,\n\tonChange: PropTypes.func.isRequired,\n\tonRemove: PropTypes.func,\n\tbuttonText: PropTypes.string,\n\tallowedTypes: PropTypes.string,\n};\n\nMediaUploadControl.defaultProps = {\n\tlabel: __( 'Upload Image', 'athemes-starter-sites' ),\n\tvalue: '',\n\tid: 0,\n\tbuttonText: __( 'Select Image', 'athemes-starter-sites' ),\n\tallowedTypes: 'image',\n};\n\nexport default MediaUploadControl;\n\n","/**\n * Typography Control component.\n *\n * @package Athemes Starter Sites\n */\n\nimport { useEffect, useRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Icon } from '@wordpress/components';\nimport { rotateLeft } from '@wordpress/icons';\nimport previewBridge from '../../utils/preview-bridge';\n\n/**\n * Typography Control component.\n *\n * @param {Object}   props               Component props.\n * @param {string}   props.label         Label for the control.\n * @param {Array}    props.typographyPairs Array of typography pair objects.\n * @param {string}   props.value         Currently selected typography pair ID.\n * @param {Function} props.onChange      Callback when selection changes.\n * @return {JSX.Element} TypographyControl component.\n */\nfunction TypographyControl( { label, typographyPairs = [], value, onChange } ) {\n\tconst linkRef = useRef( null );\n\t\n\tconst selectedPair = typographyPairs.find( ( pair ) => pair.id === value );\n\tconst fontNames = selectedPair?.label || __( 'Default', 'athemes-starter-sites' );\n\t\n\t/**\n\t * Load Google Fonts when component mounts.\n\t */\n\tuseEffect( () => {\n\t\t// Combine all Google Fonts URLs into a single request\n\t\tconst fontFamilies = typographyPairs\n\t\t\t.filter( ( pair ) => pair.googleFontsUrl ) // Skip pairs without Google Fonts URLs (e.g., system fonts)\n\t\t\t.map( ( pair ) => {\n\t\t\t\t// Extract font families and weights from the URL\n\t\t\t\tconst url = new URL( pair.googleFontsUrl );\n\t\t\t\treturn url.searchParams.get( 'family' );\n\t\t\t} )\n\t\t\t.filter( Boolean );\n\t\t\n\t\t// Only create link if there are Google Fonts to load\n\t\tif ( fontFamilies.length > 0 ) {\n\t\t\tconst link = document.createElement( 'link' );\n\t\t\tlink.rel = 'stylesheet';\n\t\t\tlink.id = 'atss-typography-control-fonts';\n\t\t\t\n\t\t\t// Create combined Google Fonts URL\n\t\t\tconst combinedUrl = `https://fonts.googleapis.com/css2?${ fontFamilies.map( f => `family=${ f }` ).join( '&' ) }&display=swap`;\n\t\t\tlink.href = combinedUrl;\n\t\t\t\n\t\t\t// Append to head\n\t\t\tdocument.head.appendChild( link );\n\t\t\tlinkRef.current = link;\n\t\t}\n\t\t\n\t\t// Cleanup on unmount\n\t\treturn () => {\n\t\t\tif ( linkRef.current && linkRef.current.parentNode ) {\n\t\t\t\tlinkRef.current.parentNode.removeChild( linkRef.current );\n\t\t\t}\n\t\t};\n\t}, [ typographyPairs ] );\n\t\n\t/**\n\t * Handle typography pair selection.\n\t *\n\t * @param {string} pairId The ID of the selected typography pair.\n\t */\n\tconst handleSelect = ( pairId ) => {\n\t\tif ( onChange ) {\n\t\t\tonChange( pairId );\n\t\t}\n\t};\n\t\n\t/**\n\t * Handle reset action.\n\t */\n\tconst handleReset = () => {\n\t\tif ( onChange ) {\n\t\t\tonChange( '' );\n\t\t}\n\t\t// Reset typography in the preview iframe\n\t\tpreviewBridge.resetTypography();\n\t};\n\n\treturn (\n\t\t<div className=\"atss-control atss-typography-control\">\n\t\t\t{ label && (\n\t\t\t\t<div className=\"atss-control__label-wrapper flex items-center\">\n\t\t\t\t\t<label className=\"atss-control__label text-sm font-medium\">\n\t\t\t\t\t\t{ label }: <span className=\"atss-typography-control__font-names\">{ fontNames }</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t{ value && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"atss-control__reset-button\"\n\t\t\t\t\t\t\tonClick={ handleReset }\n\t\t\t\t\t\t\taria-label={ __( 'Reset selection', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon={ rotateLeft } />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t\n\t\t\t<div className=\"atss-typography-control__grid\">\n\t\t\t\t{ typographyPairs.map( ( pair ) => {\n\t\t\t\t\tconst isSelected = value === pair.id;\n\t\t\t\t\t\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tkey={ pair.id }\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName={ `atss-typography-control__option ${ isSelected ? 'atss-typography-control__option--selected' : '' }` }\n\t\t\t\t\t\t\tonClick={ () => handleSelect( pair.id ) }\n\t\t\t\t\t\t\taria-label={ pair.label || pair.name }\n\t\t\t\t\t\t\taria-pressed={ isSelected }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"atss-typography-control__preview\">\n\t\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\t\tstyle={ { \n\t\t\t\t\t\t\t\t\t\tfontFamily: pair.headingFont.family, \n\t\t\t\t\t\t\t\t\t\tfontWeight: 500, \n\t\t\t\t\t\t\t\t\t\tfontSize: '22px' \n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tA\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\t\tstyle={ { \n\t\t\t\t\t\t\t\t\t\tfontFamily: pair.bodyFont.family, \n\t\t\t\t\t\t\t\t\t\tfontWeight: 400, \n\t\t\t\t\t\t\t\t\t\tfontSize: '22px' \n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tg\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default TypographyControl;\n\n","/**\n * Customize step component.\n *\n * @package Athemes Starter Sites\n */\n\nimport { useMemo, useState, useRef, useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { TextControl, ToggleControl, RangeControl } from '@wordpress/components';\nimport { Footer, Spinner } from '../Layout';\nimport { useWizard } from '../../context/WizardContext';\nimport { getStarterSiteById, getThemeName } from '../../data/starter-sites';\nimport { getColorSchemesForSite } from '../../data/color-schemes';\nimport { getTypographyPairsForSite, getTypographyPairById } from '../../data/typography-pairs';\nimport MediaUploadControl from '../Controls/MediaUploadControl';\nimport CustomColorsControl from '../Controls/CustomColorsControl';\nimport TypographyControl from '../Controls/TypographyControl';\nimport DevicePreviewControl from '../Controls/DevicePreviewControl';\nimport CustomizeUpsell from '../Controls/CustomizeUpsell';\nimport { addPreconnectHints, removePreconnectHints, addPagePreconnectHints } from '../../utils/preload-helpers';\nimport { getDemoPages } from '../../utils/api';\nimport {\n\tusePreviewBridgeInit,\n\tuseColorPreviewSync,\n\tuseLogoPreviewSync,\n\tuseLogoHeightPreviewSync,\n\tuseSiteTitlePreviewSync,\n\tuseTypographyPreviewSync,\n} from '../../utils/use-preview-sync';\n\n/**\n * Customize step component.\n *\n * @param {Object}   props                  Component props.\n * @param {Function} props.onBack           Callback to go to previous step.\n * @param {Function} props.onContinue       Callback to proceed to next step.\n * @param {boolean}  props.navigationLoading Whether navigation is in loading state.\n * @param {string}   props.navigationError   Navigation error message.\n * @return {JSX.Element} Customize component.\n */\nfunction Customize( { onBack, onContinue, navigationLoading, navigationError } ) {\n\tconst { wizardData, prefetchedPages, setPrefetchedPages, siteTitle, setSiteTitle, builder } = useWizard();\n\tconst iframeRef = useRef( null );\n\tconst [ isIframeLoading, setIsIframeLoading ] = useState( true );\n\n\t// Get existing data from context if available\n\tconst customizeData = wizardData[ 'customize' ] || {};\n\tconst designData = wizardData[ 'design' ] || {};\n\n\tconst [ siteLogo, setSiteLogo ] = useState( customizeData.siteLogo || { url: '', id: 0 } );\n\tconst [ logoHeight, setLogoHeight ] = useState( customizeData.logoHeight ?? 80 );\n\tconst [ showSiteTitle, setShowSiteTitle ] = useState( customizeData.showSiteTitle ?? true );\n\tconst [ selectedColorScheme, setSelectedColorScheme ] = useState( customizeData.selectedColorScheme || '' );\n\tconst [ customColors, setCustomColors ] = useState( customizeData.customColors || {} );\n\tconst [ customPrimaryColor, setCustomPrimaryColor ] = useState( customizeData.customPrimaryColor || '' );\n\tconst [ selectedTypographyPair, setSelectedTypographyPair ] = useState( customizeData.selectedTypographyPair || '' );\n\tconst [ previewDevice, setPreviewDevice ] = useState( customizeData.previewDevice || 'desktop' );\n\tconst [ cleanInstall, setCleanInstall ] = useState( customizeData.cleanInstall || false );\n\n\t// Get the selected site ID from the Design step\n\tconst selectedSiteId = designData.selectedSiteId;\n\n\t// Get theme name, selected site, color schemes, and typography pairs\n\tconst themeName = getThemeName();\n\tconst selectedSite = getStarterSiteById( selectedSiteId );\n\tconst colorSchemes = getColorSchemesForSite( selectedSite, themeName );\n\tconst typographyPairs = getTypographyPairsForSite( selectedSite, themeName );\n\n\t// Check if there's an existing starter site installed\n\tconst hasExistingStarter = window.atssOnboarding?.currentStarter && window.atssOnboarding.currentStarter !== '';\n\n\t// Check if the selected site is a Pro template\n\t// The 'type' property is set to 'pro' or 'free' in the starter sites data\n\tconst isProTemplate = selectedSite?.type === 'pro';\n\n\t// Initialize preview bridge\n\tusePreviewBridgeInit( iframeRef );\n\n\t// Sync data with preview\n\tuseColorPreviewSync( {\n\t\tselectedColorScheme,\n\t\tcolorSchemes,\n\t\tcustomColors,\n\t} );\n\n\t// When a predefined color scheme is selected, populate customColors with its colors\n\t// so they can be applied via apply_color_customizations in PHP\n\t// When switching to custom, clear customColors so they can be regenerated from primary color\n\tuseEffect( () => {\n\t\tif ( selectedColorScheme === 'custom' ) {\n\t\t\t// Clear customColors when switching to custom mode\n\t\t\t// CustomColorsControl will regenerate them from the primary color\n\t\t\tsetCustomColors( {} );\n\t\t} else if ( selectedColorScheme && colorSchemes.length > 0 ) {\n\t\t\tconst scheme = colorSchemes.find( ( s ) => s.id === selectedColorScheme );\n\t\t\tif ( scheme && scheme.colors ) {\n\t\t\t\tsetCustomColors( scheme.colors );\n\t\t\t}\n\t\t}\n\t}, [ selectedColorScheme, colorSchemes ] );\n\tuseLogoPreviewSync( siteLogo, logoHeight );\n\tuseLogoHeightPreviewSync( logoHeight );\n\tuseSiteTitlePreviewSync( siteTitle, showSiteTitle );\n\tuseTypographyPreviewSync( selectedTypographyPair, typographyPairs );\n\n\t// Get the site data and preview URL\n\tconst previewUrl = useMemo( () => {\n\t\tif ( selectedSiteId ) {\n\t\t\tconst site = getStarterSiteById( selectedSiteId );\n\t\t\tif ( site && site.preview ) {\n\t\t\t\tlet url = site.preview;\n\n\t\t\t\t// If builder is Gutenberg, append -gb to the URL slug\n\t\t\t\tif ( builder === 'gutenberg' ) {\n\t\t\t\t\t// Clean up double dashes in URL\n\t\t\t\t\tif ( selectedSiteId !== 'resume' ) {\n\t\t\t\t\t\turl = url.replace( /--/g, '-' );\n\t\t\t\t\t}\n\t\t\t\t\t// Transform: https://demo.athemes.com/sydney-main/  https://demo.athemes.com/sydney-main-gb/\n\t\t\t\t\turl = url.replace( /\\/([^\\/\\?]+)(\\/)?(\\?.*)?$/, '/$1-gb$2$3' );\n\n\t\t\t\t\tif ( selectedSiteId === 'cafe' ) { // Special case for Cafe template\n\t\t\t\t\t\turl = 'https://demo.athemes.com/sp-cafe-gb/';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( selectedSiteId === 'author' ) { // Special case for Author template\n\t\t\t\t\t\turl = 'https://demo.athemes.com/sp-author-gb/';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn url;\n\t\t\t}\n\t\t}\n\t\t// Fallback to default preview URL\n\t\treturn 'https://athemes.com/';\n\t}, [ selectedSiteId, builder ] );\n\n\t// Add preconnect hints for faster iframe loading\n\tuseEffect( () => {\n\t\taddPreconnectHints( previewUrl );\n\t}, [ previewUrl ] );\n\n\t// Handle logo change\n\tconst handleLogoChange = ( newLogo ) => {\n\t\tsetSiteLogo( newLogo );\n\n\t\t// If a logo is set, deactivate site title by default (per requirements)\n\t\tif ( newLogo.url ) {\n\t\t\tsetShowSiteTitle( false );\n\t\t} else {\n\t\t\tsetShowSiteTitle( true );\n\t\t}\n\t};\n\n\t// Handle iframe load - also prefetch pages for the next step\n\tconst handleIframeLoad = async () => {\n\t\tsetIsIframeLoading( false );\n\n\t\t// Prefetch pages for the Pages step if not already fetched for this site\n\t\t// Note: prefetchedPages are cleared when design changes (in Design.js)\n\t\tif ( ! prefetchedPages && selectedSiteId ) {\n\t\t\ttry {\n\t\t\t\tconst pagesData = await getDemoPages( selectedSiteId, builder );\n\n\t\t\t\t// Sort pages to ensure homepage appears first\n\t\t\t\tconst sortedPages = [ ...pagesData ].sort( ( a, b ) => {\n\t\t\t\t\tconst aIsHome = /^(home|my front page)$/i.test( a.title.trim() );\n\t\t\t\t\tconst bIsHome = /^(home|my front page)$/i.test( b.title.trim() );\n\n\t\t\t\t\tif ( aIsHome && ! bIsHome ) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\tif ( ! aIsHome && bIsHome ) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t} );\n\n\t\t\t\t// Filter out Sample Page and Test pages\n\t\t\t\tconst filteredPages = sortedPages.filter( ( page ) => {\n\t\t\t\t\tconst title = page.title.trim();\n\t\t\t\t\treturn ! /^(sample page|test)$/i.test( title );\n\t\t\t\t} );\n\n\t\t\t\t// Store in context for Pages step\n\t\t\t\tsetPrefetchedPages( filteredPages );\n\n\t\t\t\t// Add preconnect hints for faster iframe loading\n\t\t\t\taddPagePreconnectHints( filteredPages );\n\t\t\t} catch ( err ) {\n\t\t\t\t// Silently fail - Pages step will fetch if needed\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.log( 'Prefetch pages failed (will retry on Pages step):', err );\n\t\t\t}\n\t\t}\n\t};\n\n\t// Handle continue - save customize data to wizard context\n\tconst handleContinue = () => {\n\t\t// Get the selected typography pair to extract font names\n\t\tconst selectedPair = typographyPairs.find( ( pair ) => pair.id === selectedTypographyPair );\n\n\t\tonContinue( {\n\t\t\tsiteLogo,\n\t\t\tlogoHeight,\n\t\t\tshowSiteTitle,\n\t\t\tselectedColorScheme,\n\t\t\tcustomColors,\n\t\t\tcustomPrimaryColor,\n\t\t\tselectedTypographyPair,\n\t\t\theadingFont: selectedPair?.headingFont?.family || '',\n\t\t\tbodyFont: selectedPair?.bodyFont?.family || '',\n\t\t\tcleanInstall,\n\t\t} );\n\t};\n\n\treturn (\n\t\t<div className=\"atss-onboarding-wizard__step-wrapper flex\">\n\t\t\t<div className=\"atss-onboarding-wizard__step atss-onboarding-wizard__step--customize\">\n\t\t\t\t<main className=\"atss-onboarding-wizard__step-body\">\n\t\t\t\t\t<MediaUploadControl\n\t\t\t\t\t\tlabel={ __( 'Site Logo', 'athemes-starter-sites' ) }\n\t\t\t\t\t\tvalue={ siteLogo.url }\n\t\t\t\t\t\tid={ siteLogo.id }\n\t\t\t\t\t\tonChange={ handleLogoChange }\n\t\t\t\t\t\tbuttonText={ __( 'Upload Logo', 'athemes-starter-sites' ) }\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ siteLogo.url && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Logo Height', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t\tvalue={ logoHeight }\n\t\t\t\t\t\t\tonChange={ setLogoHeight }\n\t\t\t\t\t\t\tmin={ 30 }\n\t\t\t\t\t\t\tmax={ 125 }\n\t\t\t\t\t\t\tclassName=\"atss-control\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Site Title', 'athemes-starter-sites' ) }\n\t\t\t\t\t\tclassName=\"atss-control atss-site-title-control\"\n\t\t\t\t\t\tvalue={ siteTitle }\n\t\t\t\t\t\tonChange={ setSiteTitle }\n\t\t\t\t\t\t__next40pxDefaultSize={ true }\n\t\t\t\t\t\t__nextHasNoMarginBottom={ true }\n\t\t\t\t\t/>\n\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Show site title', 'athemes-starter-sites' ) }\n\t\t\t\t\t\tclassName=\"atss-control\"\n\t\t\t\t\t\tchecked={ showSiteTitle }\n\t\t\t\t\t\tonChange={ setShowSiteTitle }\n\t\t\t\t\t\t__nextHasNoMarginBottom={ true }\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CustomColorsControl\n\t\t\t\t\t\tlabel={ __( 'Color Scheme', 'athemes-starter-sites' ) }\n\t\t\t\t\t\tcolorSchemes={ colorSchemes }\n\t\t\t\t\t\tvalue={ selectedColorScheme }\n\t\t\t\t\t\tonChange={ setSelectedColorScheme }\n\t\t\t\t\t\tonCustomColors={ setCustomColors }\n\t\t\t\t\t\tcustomColors={ customColors }\n\t\t\t\t\t\tcustomPrimaryColor={ customPrimaryColor }\n\t\t\t\t\t\tonPrimaryColorChange={ setCustomPrimaryColor }\n\t\t\t\t\t\tthemeName={ themeName }\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TypographyControl\n\t\t\t\t\t\tlabel={ __( 'Fonts', 'athemes-starter-sites' ) }\n\t\t\t\t\t\ttypographyPairs={ typographyPairs }\n\t\t\t\t\t\tvalue={ selectedTypographyPair }\n\t\t\t\t\t\tonChange={ setSelectedTypographyPair }\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ hasExistingStarter && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Clean Install', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t\tclassName=\"atss-control\"\n\t\t\t\t\t\t\tchecked={ cleanInstall }\n\t\t\t\t\t\t\tonChange={ setCleanInstall }\n\t\t\t\t\t\t\thelp={ __( 'This option will remove the previous imported content and will perform a fresh and clean install.', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t\t__nextHasNoMarginBottom={ true }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<DevicePreviewControl\n\t\t\t\t\t\tlabel={ __( 'Preview', 'athemes-starter-sites' ) }\n\t\t\t\t\t\tvalue={ previewDevice }\n\t\t\t\t\t\tonChange={ setPreviewDevice }\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CustomizeUpsell\n\t\t\t\t\t\tisVisible={ isProTemplate }\n\t\t\t\t\t\tupgradeUrl={ window.atssOnboarding?.upgradeUrl || undefined }\n\t\t\t\t\t/>\n\t\t\t\t</main>\n\n\t\t\t\t<Footer\n\t\t\t\t\tshowBack={ true }\n\t\t\t\t\tshowSkip={ false }\n\t\t\t\t\tcontinueText={ __( 'Continue', 'athemes-starter-sites' ) }\n\t\t\t\t\tonBack={ onBack }\n\t\t\t\t\tonContinue={ handleContinue }\n\t\t\t\t\tcontinueDisabled={ isProTemplate }\n\t\t\t\t\tcontinueLoading={ navigationLoading }\n\t\t\t\t\tcontinueError={ navigationError }\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t<div className=\"atss-onboarding-wizard__preview\">\n\t\t\t<div className={ `atss-onboarding-wizard__preview-inner atss-onboarding-wizard__preview-iframe--${ previewDevice }` }>\n\t\t\t\t{ isIframeLoading && (\n\t\t\t\t\t<div className=\"atss-onboarding-wizard__preview-loading\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<iframe\n\t\t\t\t\t\tref={ iframeRef }\n\t\t\t\t\t\tid=\"demo-preview\"\n\t\t\t\t\t\tsrc={ `${ previewUrl }${ previewUrl.includes( '?' ) ? '&' : '?' }atss_preview=1` }\n\t\t\t\t\t\ttitle=\"Preview\"\n\t\t\t\t\t\tonLoad={ handleIframeLoad }\n\t\t\t\t\t\tstyle={ { opacity: isIframeLoading ? 0 : 1 } }\n\t\t\t\t\t\tclassName={ `atss-onboarding-wizard__preview-iframe` }\n\t\t\t\t\t></iframe>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Customize;\n","/**\n * Color schemes data for themes.\n *\n * @package aThemes Starter Sites\n */\n\n/**\n * Theme-level default color schemes.\n * Each color scheme contains CSS custom properties and their values.\n */\nexport const themeColorSchemes = {\n\tsydney: [\n\t\t{\n\t\t\tid: 'default',\n\t\t\tname: 'Default',\n\t\t\tcolors: {\n\t\t\t\t'--sydney-global-color-1': '#d65050',\n\t\t\t\t'--sydney-global-color-2': '#b73d3d',\n\t\t\t\t'--sydney-global-color-3': '#233452',\n\t\t\t\t'--sydney-global-color-4': '#00102E',\n\t\t\t\t'--sydney-global-color-5': '#6d7685',\n\t\t\t\t'--sydney-global-color-6': '#00102E',\n\t\t\t\t'--sydney-global-color-7': '#F4F5F7',\n\t\t\t\t'--sydney-global-color-8': '#dbdbdb',\n\t\t\t\t'--sydney-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'vibrant-blue',\n\t\t\tname: 'Vibrant Blue',\n\t\t\tcolors: {\n\t\t\t\t'--sydney-global-color-1': '#2563eb',\n\t\t\t\t'--sydney-global-color-2': '#1d4ed8',\n\t\t\t\t'--sydney-global-color-3': '#334155',\n\t\t\t\t'--sydney-global-color-4': '#0f172a',\n\t\t\t\t'--sydney-global-color-5': '#64748b',\n\t\t\t\t'--sydney-global-color-6': '#1e293b',\n\t\t\t\t'--sydney-global-color-7': '#f8fafc',\n\t\t\t\t'--sydney-global-color-8': '#e2e8f0',\n\t\t\t\t'--sydney-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'sunset-warmth',\n\t\t\tname: 'Sunset Warmth',\n\t\t\tcolors: {\n\t\t\t\t'--sydney-global-color-1': '#f97316',\n\t\t\t\t'--sydney-global-color-2': '#ea580c',\n\t\t\t\t'--sydney-global-color-3': '#44403c',\n\t\t\t\t'--sydney-global-color-4': '#1c1917',\n\t\t\t\t'--sydney-global-color-5': '#78716c',\n\t\t\t\t'--sydney-global-color-6': '#292524',\n\t\t\t\t'--sydney-global-color-7': '#fafaf9',\n\t\t\t\t'--sydney-global-color-8': '#e7e5e4',\n\t\t\t\t'--sydney-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'forest-green',\n\t\t\tname: 'Forest Green',\n\t\t\tcolors: {\n\t\t\t\t'--sydney-global-color-1': '#16a34a',\n\t\t\t\t'--sydney-global-color-2': '#15803d',\n\t\t\t\t'--sydney-global-color-3': '#3f3f46',\n\t\t\t\t'--sydney-global-color-4': '#18181b',\n\t\t\t\t'--sydney-global-color-5': '#71717a',\n\t\t\t\t'--sydney-global-color-6': '#27272a',\n\t\t\t\t'--sydney-global-color-7': '#fafafa',\n\t\t\t\t'--sydney-global-color-8': '#e4e4e7',\n\t\t\t\t'--sydney-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'royal-purple',\n\t\t\tname: 'Royal Purple',\n\t\t\tcolors: {\n\t\t\t\t'--sydney-global-color-1': '#9333ea',\n\t\t\t\t'--sydney-global-color-2': '#7e22ce',\n\t\t\t\t'--sydney-global-color-3': '#3f3f46',\n\t\t\t\t'--sydney-global-color-4': '#18181b',\n\t\t\t\t'--sydney-global-color-5': '#71717a',\n\t\t\t\t'--sydney-global-color-6': '#27272a',\n\t\t\t\t'--sydney-global-color-7': '#fafafa',\n\t\t\t\t'--sydney-global-color-8': '#e4e4e7',\n\t\t\t\t'--sydney-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'crimson-red',\n\t\t\tname: 'Crimson Red',\n\t\t\tcolors: {\n\t\t\t\t'--sydney-global-color-1': '#dc2626',\n\t\t\t\t'--sydney-global-color-2': '#b91c1c',\n\t\t\t\t'--sydney-global-color-3': '#374151',\n\t\t\t\t'--sydney-global-color-4': '#111827',\n\t\t\t\t'--sydney-global-color-5': '#6b7280',\n\t\t\t\t'--sydney-global-color-6': '#1f2937',\n\t\t\t\t'--sydney-global-color-7': '#f9fafb',\n\t\t\t\t'--sydney-global-color-8': '#e5e7eb',\n\t\t\t\t'--sydney-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'teal-aqua',\n\t\t\tname: 'Teal Aqua',\n\t\t\tcolors: {\n\t\t\t\t'--sydney-global-color-1': '#14b8a6',\n\t\t\t\t'--sydney-global-color-2': '#0d9488',\n\t\t\t\t'--sydney-global-color-3': '#334155',\n\t\t\t\t'--sydney-global-color-4': '#0f172a',\n\t\t\t\t'--sydney-global-color-5': '#64748b',\n\t\t\t\t'--sydney-global-color-6': '#1e293b',\n\t\t\t\t'--sydney-global-color-7': '#f8fafc',\n\t\t\t\t'--sydney-global-color-8': '#e2e8f0',\n\t\t\t\t'--sydney-global-color-9': '#ffffff'\n\t\t\t}\n\t\t}\n\t],\n\tbotiga: [\n\t\t{\n\t\t\tid: 'default',\n\t\t\tname: 'Default',\n\t\t\tcolors: {\n\t\t\t\t'--botiga-global-color-1': '#d65050',\n\t\t\t\t'--botiga-global-color-2': '#b73d3d',\n\t\t\t\t'--botiga-global-color-3': '#233452',\n\t\t\t\t'--botiga-global-color-4': '#00102E',\n\t\t\t\t'--botiga-global-color-5': '#6d7685',\n\t\t\t\t'--botiga-global-color-6': '#00102E',\n\t\t\t\t'--botiga-global-color-7': '#F4F5F7',\n\t\t\t\t'--botiga-global-color-8': '#dbdbdb',\n\t\t\t\t'--botiga-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'vibrant-blue',\n\t\t\tname: 'Vibrant Blue',\n\t\t\tcolors: {\n\t\t\t\t'--botiga-global-color-1': '#2563eb',\n\t\t\t\t'--botiga-global-color-2': '#1d4ed8',\n\t\t\t\t'--botiga-global-color-3': '#334155',\n\t\t\t\t'--botiga-global-color-4': '#0f172a',\n\t\t\t\t'--botiga-global-color-5': '#64748b',\n\t\t\t\t'--botiga-global-color-6': '#1e293b',\n\t\t\t\t'--botiga-global-color-7': '#f8fafc',\n\t\t\t\t'--botiga-global-color-8': '#e2e8f0',\n\t\t\t\t'--botiga-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'sunset-warmth',\n\t\t\tname: 'Sunset Warmth',\n\t\t\tcolors: {\n\t\t\t\t'--botiga-global-color-1': '#f97316',\n\t\t\t\t'--botiga-global-color-2': '#ea580c',\n\t\t\t\t'--botiga-global-color-3': '#44403c',\n\t\t\t\t'--botiga-global-color-4': '#1c1917',\n\t\t\t\t'--botiga-global-color-5': '#78716c',\n\t\t\t\t'--botiga-global-color-6': '#292524',\n\t\t\t\t'--botiga-global-color-7': '#fafaf9',\n\t\t\t\t'--botiga-global-color-8': '#e7e5e4',\n\t\t\t\t'--botiga-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'forest-green',\n\t\t\tname: 'Forest Green',\n\t\t\tcolors: {\n\t\t\t\t'--botiga-global-color-1': '#16a34a',\n\t\t\t\t'--botiga-global-color-2': '#15803d',\n\t\t\t\t'--botiga-global-color-3': '#3f3f46',\n\t\t\t\t'--botiga-global-color-4': '#18181b',\n\t\t\t\t'--botiga-global-color-5': '#71717a',\n\t\t\t\t'--botiga-global-color-6': '#27272a',\n\t\t\t\t'--botiga-global-color-7': '#fafafa',\n\t\t\t\t'--botiga-global-color-8': '#e4e4e7',\n\t\t\t\t'--botiga-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'royal-purple',\n\t\t\tname: 'Royal Purple',\n\t\t\tcolors: {\n\t\t\t\t'--botiga-global-color-1': '#9333ea',\n\t\t\t\t'--botiga-global-color-2': '#7e22ce',\n\t\t\t\t'--botiga-global-color-3': '#3f3f46',\n\t\t\t\t'--botiga-global-color-4': '#18181b',\n\t\t\t\t'--botiga-global-color-5': '#71717a',\n\t\t\t\t'--botiga-global-color-6': '#27272a',\n\t\t\t\t'--botiga-global-color-7': '#fafafa',\n\t\t\t\t'--botiga-global-color-8': '#e4e4e7',\n\t\t\t\t'--botiga-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'crimson-red',\n\t\t\tname: 'Crimson Red',\n\t\t\tcolors: {\n\t\t\t\t'--botiga-global-color-1': '#dc2626',\n\t\t\t\t'--botiga-global-color-2': '#b91c1c',\n\t\t\t\t'--botiga-global-color-3': '#374151',\n\t\t\t\t'--botiga-global-color-4': '#111827',\n\t\t\t\t'--botiga-global-color-5': '#6b7280',\n\t\t\t\t'--botiga-global-color-6': '#1f2937',\n\t\t\t\t'--botiga-global-color-7': '#f9fafb',\n\t\t\t\t'--botiga-global-color-8': '#e5e7eb',\n\t\t\t\t'--botiga-global-color-9': '#ffffff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'teal-aqua',\n\t\t\tname: 'Teal Aqua',\n\t\t\tcolors: {\n\t\t\t\t'--botiga-global-color-1': '#14b8a6',\n\t\t\t\t'--botiga-global-color-2': '#0d9488',\n\t\t\t\t'--botiga-global-color-3': '#334155',\n\t\t\t\t'--botiga-global-color-4': '#0f172a',\n\t\t\t\t'--botiga-global-color-5': '#64748b',\n\t\t\t\t'--botiga-global-color-6': '#1e293b',\n\t\t\t\t'--botiga-global-color-7': '#f8fafc',\n\t\t\t\t'--botiga-global-color-8': '#e2e8f0',\n\t\t\t\t'--botiga-global-color-9': '#ffffff'\n\t\t\t}\n\t\t}\n\t]\n};\n\n/**\n * Get color schemes for a starter site.\n *\n * @param {Object|null} siteData  The starter site data object.\n * @param {string}      themeName The theme name (sydney, botiga, etc.).\n * @return {Array} Array of color scheme objects.\n */\nexport const getColorSchemesForSite = ( siteData, themeName ) => {\n\n\t// 1. If site has custom color schemes, return those\n\tif ( siteData?.colorSchemes && 0 < siteData.colorSchemes.length ) {\n\t\treturn siteData.colorSchemes;\n\t}\n\n\t// 2. Otherwise, return theme defaults using themeName from atssOnboarding\n\treturn themeColorSchemes[ themeName ] || themeColorSchemes.sydney;\n};\n\n/**\n * Get a single color scheme by ID from a list of schemes.\n *\n * @param {Array}  schemes  Array of color scheme objects.\n * @param {string} schemeId The ID of the color scheme to find.\n * @return {Object|null} The color scheme object or null if not found.\n */\nexport const getColorSchemeById = ( schemes, schemeId ) => {\n\treturn schemes.find( ( scheme ) => scheme.id === schemeId ) || null;\n};\n\n","/**\n * Starter sites data getter.\n *\n * @package Athemes Starter Sites\n */\n\n/**\n * Get the raw demos object from the localized data.\n *\n * @return {Object} The demos object.\n */\nexport const getRawDemos = () => {\n\treturn window.atssOnboarding?.demos || {};\n};\n\n/**\n * Get all available starter sites as an array.\n *\n * @return {Array} Array of demo objects.\n */\nexport const getStarterSites = () => {\n\tconst demos = getRawDemos();\n\treturn Object.entries( demos ).map( ([ id, data ]) => ({\n\t\tid,\n\t\t...data\n\t}) );\n};\n\n/**\n * Get a single starter site by its ID.\n *\n * @param {string} id The demo ID.\n * @return {Object|null} The demo object or null if not found.\n */\nexport const getStarterSiteById = ( id ) => {\n\tconst demos = getRawDemos();\n\treturn demos[ id ] ? { id, ...demos[ id ] } : null;\n};\n\n/**\n * Get the onboarding settings.\n *\n * @return {Object} The settings object.\n */\nexport const getOnboardingSettings = () => {\n\treturn window.atssOnboarding?.settings || {};\n};\n\n/**\n * Get the current theme name.\n *\n * @return {string} The theme name (e.g., 'sydney', 'botiga').\n */\nexport const getThemeName = () => {\n\treturn window.atssOnboarding?.themeName || 'sydney';\n};\n\n","/**\n * Typography pairs data for themes.\n *\n * @package aThemes Starter Sites\n */\n\n/**\n * Universal typography pairs that work across all themes.\n * Each pair contains heading and body font families.\n * Font weights are hardcoded in the component (500 for headings, 400 for body).\n */\nexport const typographyPairs = [\n\t{\n\t\tid: 'system',\n\t\tname: 'System Default',\n\t\tlabel: 'System Default',\n\t\theadingFont: {\n\t\t\tfamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif'\n\t\t},\n\t\tbodyFont: {\n\t\t\tfamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif'\n\t\t},\n\t\tgoogleFontsUrl: '' // No Google Fonts needed for system fonts\n\t},\n\t{\n\t\tid: 'default',\n\t\tname: 'Default',\n\t\tlabel: 'Inter',\n\t\theadingFont: {\n\t\t\tfamily: 'Inter'\n\t\t},\n\t\tbodyFont: {\n\t\t\tfamily: 'Inter'\n\t\t},\n\t\tgoogleFontsUrl: 'https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap'\n\t},\n\t{\n\t\tid: 'classic-elegant',\n\t\tname: 'Classic Elegant',\n\t\tlabel: 'Playfair Display & Source Sans Pro',\n\t\theadingFont: {\n\t\t\tfamily: 'Playfair Display'\n\t\t},\n\t\tbodyFont: {\n\t\t\tfamily: 'Source Sans Pro'\n\t\t},\n\t\tgoogleFontsUrl: 'https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Source+Sans+Pro:wght@400&display=swap'\n\t},\n\t{\n\t\tid: 'modern-clean',\n\t\tname: 'Modern Clean',\n\t\tlabel: 'Poppins',\n\t\theadingFont: {\n\t\t\tfamily: 'Poppins'\n\t\t},\n\t\tbodyFont: {\n\t\t\tfamily: 'Poppins'\n\t\t},\n\t\tgoogleFontsUrl: 'https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap'\n\t},\n\t{\n\t\tid: 'professional',\n\t\tname: 'Professional',\n\t\tlabel: 'Roboto Slab & Roboto',\n\t\theadingFont: {\n\t\t\tfamily: 'Roboto Slab'\n\t\t},\n\t\tbodyFont: {\n\t\t\tfamily: 'Roboto'\n\t\t},\n\t\tgoogleFontsUrl: 'https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@500&family=Roboto:wght@400&display=swap'\n\t},\n\t{\n\t\tid: 'creative-bold',\n\t\tname: 'Creative Bold',\n\t\tlabel: 'Montserrat & Open Sans',\n\t\theadingFont: {\n\t\t\tfamily: 'Montserrat'\n\t\t},\n\t\tbodyFont: {\n\t\t\tfamily: 'Open Sans'\n\t\t},\n\t\tgoogleFontsUrl: 'https://fonts.googleapis.com/css2?family=Montserrat:wght@500&family=Open+Sans:wght@400&display=swap'\n\t},\n\t{\n\t\tid: 'editorial',\n\t\tname: 'Editorial',\n\t\tlabel: 'Merriweather & Lato',\n\t\theadingFont: {\n\t\t\tfamily: 'Merriweather'\n\t\t},\n\t\tbodyFont: {\n\t\t\tfamily: 'Lato'\n\t\t},\n\t\tgoogleFontsUrl: 'https://fonts.googleapis.com/css2?family=Merriweather:wght@500&family=Lato:wght@400&display=swap'\n\t},\n\t{\n\t\tid: 'minimal-sans',\n\t\tname: 'Minimal Sans',\n\t\tlabel: 'Work Sans',\n\t\theadingFont: {\n\t\t\tfamily: 'Work Sans'\n\t\t},\n\t\tbodyFont: {\n\t\t\tfamily: 'Work Sans'\n\t\t},\n\t\tgoogleFontsUrl: 'https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500&display=swap'\n\t}\n];\n\n/**\n * Get typography pairs for a starter site.\n * Currently returns the same universal pairs for all sites.\n *\n * @param {Object|null} siteData  The starter site data object (unused for now).\n * @param {string}      themeName The theme name (unused for now).\n * @return {Array} Array of typography pair objects.\n */\nexport const getTypographyPairsForSite = ( siteData, themeName ) => {\n\n\t// For now, return universal pairs for all themes\n\t// In the future, this could be extended to support site-specific or theme-specific pairs\n\treturn typographyPairs;\n};\n\n/**\n * Get a single typography pair by ID from a list of pairs.\n *\n * @param {Array}  pairs  Array of typography pair objects.\n * @param {string} pairId The ID of the typography pair to find.\n * @return {Object|null} The typography pair object or null if not found.\n */\nexport const getTypographyPairById = ( pairs, pairId ) => {\n\treturn pairs.find( ( pair ) => pair.id === pairId ) || null;\n};\n\n","/**\n * Color utility functions for generating color schemes.\n *\n * @package Athemes Starter Sites\n */\n\n/**\n * Convert hex color to HSL.\n *\n * @param {string} hex Hex color string (e.g., '#333333').\n * @return {Object} HSL object with h, s, l properties.\n */\nexport function hexToHSL( hex ) {\n\n\t// Remove the hash if present\n\thex = hex.replace( /^#/, '' );\n\n\t// Parse hex to RGB\n\tconst r = parseInt( hex.substring( 0, 2 ), 16 ) / 255;\n\tconst g = parseInt( hex.substring( 2, 4 ), 16 ) / 255;\n\tconst b = parseInt( hex.substring( 4, 6 ), 16 ) / 255;\n\n\tconst max = Math.max( r, g, b );\n\tconst min = Math.min( r, g, b );\n\tlet h, s;\n\tconst l = ( max + min ) / 2;\n\n\tif ( max === min ) {\n\t\th = s = 0; // achromatic\n\t} else {\n\t\tconst d = max - min;\n\t\ts = 0.5 < l ? d / ( 2 - max - min ) : d / ( max + min );\n\n\t\tswitch ( max ) {\n\t\tcase r:\n\t\t\th = ( g - b ) / d + ( g < b ? 6 : 0 );\n\t\t\tbreak;\n\t\tcase g:\n\t\t\th = ( b - r ) / d + 2;\n\t\t\tbreak;\n\t\tcase b:\n\t\t\th = ( r - g ) / d + 4;\n\t\t\tbreak;\n\t\t}\n\n\t\th /= 6;\n\t}\n\n\treturn {\n\t\th: Math.round( h * 360 ),\n\t\ts: Math.round( s * 100 ),\n\t\tl: Math.round( l * 100 )\n\t};\n}\n\n/**\n * Convert HSL to hex color.\n *\n * @param {number} h Hue (0-360).\n * @param {number} s Saturation (0-100).\n * @param {number} l Lightness (0-100).\n * @return {string} Hex color string.\n */\nexport function hslToHex( h, s, l ) {\n\th = h / 360;\n\ts = s / 100;\n\tl = l / 100;\n\n\tlet r, g, b;\n\n\tif ( 0 === s ) {\n\t\tr = g = b = l; // achromatic\n\t} else {\n\t\tconst hue2rgb = ( p, q, t ) => {\n\t\t\tif ( 0 > t ) {\n\t\t\t\tt += 1;\n\t\t\t}\n\t\t\tif ( 1 < t ) {\n\t\t\t\tt -= 1;\n\t\t\t}\n\t\t\tif ( t < 1 / 6 ) {\n\t\t\t\treturn p + ( q - p ) * 6 * t;\n\t\t\t}\n\t\t\tif ( t < 1 / 2 ) {\n\t\t\t\treturn q;\n\t\t\t}\n\t\t\tif ( t < 2 / 3 ) {\n\t\t\t\treturn p + ( q - p ) * ( 2 / 3 - t ) * 6;\n\t\t\t}\n\t\t\treturn p;\n\t\t};\n\n\t\tconst q = 0.5 > l ? l * ( 1 + s ) : l + s - l * s;\n\t\tconst p = 2 * l - q;\n\n\t\tr = hue2rgb( p, q, h + 1 / 3 );\n\t\tg = hue2rgb( p, q, h );\n\t\tb = hue2rgb( p, q, h - 1 / 3 );\n\t}\n\n\tconst toHex = ( x ) => {\n\t\tconst hex = Math.round( x * 255 ).toString( 16 );\n\t\treturn 1 === hex.length ? '0' + hex : hex;\n\t};\n\n\treturn '#' + toHex( r ) + toHex( g ) + toHex( b );\n}\n\n/**\n * Lighten a color by increasing its lightness.\n *\n * @param {string} hex    Hex color string.\n * @param {number} amount Amount to lighten (0-100).\n * @return {string} Lightened hex color.\n */\nexport function lighten( hex, amount ) {\n\tconst hsl = hexToHSL( hex );\n\thsl.l = Math.min( 100, hsl.l + amount );\n\treturn hslToHex( hsl.h, hsl.s, hsl.l );\n}\n\n/**\n * Darken a color by decreasing its lightness.\n *\n * @param {string} hex    Hex color string.\n * @param {number} amount Amount to darken (0-100).\n * @return {string} Darkened hex color.\n */\nexport function darken( hex, amount ) {\n\tconst hsl = hexToHSL( hex );\n\thsl.l = Math.max( 0, hsl.l - amount );\n\treturn hslToHex( hsl.h, hsl.s, hsl.l );\n}\n\n/**\n * Calculate relative luminance for contrast ratio.\n *\n * @param {string} hex Hex color string.\n * @return {number} Relative luminance.\n */\nfunction getRelativeLuminance( hex ) {\n\thex = hex.replace( /^#/, '' );\n\n\tconst r = parseInt( hex.substring( 0, 2 ), 16 ) / 255;\n\tconst g = parseInt( hex.substring( 2, 4 ), 16 ) / 255;\n\tconst b = parseInt( hex.substring( 4, 6 ), 16 ) / 255;\n\n\tconst toLinear = ( c ) => {\n\t\treturn 0.03928 >= c ? c / 12.92 : Math.pow( ( c + 0.055 ) / 1.055, 2.4 );\n\t};\n\n\tconst rLinear = toLinear( r );\n\tconst gLinear = toLinear( g );\n\tconst bLinear = toLinear( b );\n\n\treturn 0.2126 * rLinear + 0.7152 * gLinear + 0.0722 * bLinear;\n}\n\n/**\n * Calculate contrast ratio between two colors.\n *\n * @param {string} color1 First hex color.\n * @param {string} color2 Second hex color.\n * @return {number} Contrast ratio.\n */\nexport function calculateContrastRatio( color1, color2 ) {\n\tconst lum1 = getRelativeLuminance( color1 );\n\tconst lum2 = getRelativeLuminance( color2 );\n\n\tconst lighter = Math.max( lum1, lum2 );\n\tconst darker = Math.min( lum1, lum2 );\n\n\treturn ( lighter + 0.05 ) / ( darker + 0.05 );\n}\n\n/**\n * Generate a complete 9-color scheme from a primary color.\n *\n * @param {string} primaryColor Hex color for the primary color.\n * @param {string} themeName    Theme name (sydney, botiga, etc.) to generate proper CSS variable names.\n * @return {Object} Object containing colors array and contrast warnings.\n */\nexport function generateColorScheme( primaryColor, themeName = 'sydney' ) {\n\tconst hsl = hexToHSL( primaryColor );\n\tconst primaryHue = hsl.h;\n\tconst primaryLightness = hsl.l;\n\n\t// Generate the color values\n\tconst colorValues = {\n\t\t1: primaryColor, // Primary Color - as-is\n\t\t2: 20 > primaryLightness ?\n\t\t\tlighten( primaryColor, 15 ) :\n\t\t\tdarken( primaryColor, 10 ), // Hover Color\n\t\t3: hslToHex( primaryHue, 15, 20 ), // Body Text Color\n\t\t4: hslToHex( primaryHue, 20, 12 ), // General Headings Color\n\t\t5: hslToHex( primaryHue, 10, 55 ), // Smaller Text/Meta\n\t\t6: hslToHex( primaryHue, 20, 10 ), // Dark Backgrounds\n\t\t7: hslToHex( primaryHue, 20, 97 ), // Light Backgrounds\n\t\t8: hslToHex( primaryHue, 12, 87 ), // Border Color\n\t\t9: '#ffffff' // Site Background\n\t};\n\n\t// Generate the 9 colors with proper CSS variable names for the theme\n\t// Ensure theme name is lowercase for CSS variables\n\tconst themeSlug = themeName.toLowerCase();\n\tconst colors = {};\n\tfor ( let i = 1; 9 >= i; i++ ) {\n\t\tcolors[ `--${ themeSlug }-global-color-${ i }` ] = colorValues[ i ];\n\t}\n\n\t// Calculate contrast ratios and generate warnings\n\tconst warnings = [];\n\tconst backgroundColor = colorValues[ 9 ];\n\n\t// Check primary color contrast (color 1)\n\tconst primaryContrast = calculateContrastRatio( colorValues[ 1 ], backgroundColor );\n\tif ( 4.5 > primaryContrast ) {\n\t\twarnings.push({\n\t\t\tcolor: `--${ themeSlug }-global-color-1`,\n\t\t\tmessage: 'Primary color may not have sufficient contrast on light backgrounds. Consider choosing a darker color.',\n\t\t\tratio: primaryContrast.toFixed( 2 )\n\t\t});\n\t}\n\n\t// Check body text contrast (color 3)\n\tconst bodyTextContrast = calculateContrastRatio( colorValues[ 3 ], backgroundColor );\n\tif ( 4.5 > bodyTextContrast ) {\n\t\twarnings.push({\n\t\t\tcolor: `--${ themeSlug }-global-color-3`,\n\t\t\tmessage: 'Body text color may not have sufficient contrast on light backgrounds. Consider choosing a darker primary color.',\n\t\t\tratio: bodyTextContrast.toFixed( 2 )\n\t\t});\n\t}\n\n\t// Check headings contrast (color 4)\n\tconst headingsContrast = calculateContrastRatio( colorValues[ 4 ], backgroundColor );\n\tif ( 4.5 > headingsContrast ) {\n\t\twarnings.push({\n\t\t\tcolor: `--${ themeSlug }-global-color-4`,\n\t\t\tmessage: 'Heading color may not have sufficient contrast on light backgrounds. Consider choosing a darker primary color.',\n\t\t\tratio: headingsContrast.toFixed( 2 )\n\t\t});\n\t}\n\n\treturn {\n\t\tcolors,\n\t\twarnings\n\t};\n}\n\n","/**\n * Configuration constants for the onboarding wizard.\n *\n * @package Athemes Starter Sites\n */\n\n/**\n * Base URL for Athemes website.\n *\n * @type {string}\n */\nexport const ATHEMES_BASE_URL = 'https://athemes.com';\n\n/**\n * Account dashboard URL.\n * This is the same for all products.\n *\n * @type {string}\n */\nexport const ACCOUNT_URL = `${ ATHEMES_BASE_URL }/account/`;\n\n/**\n * Default upgrade URL.\n *\n * @type {string}\n */\nexport const DEFAULT_UPGRADE_URL = `${ ATHEMES_BASE_URL }/`;\n\n/**\n * Documentation URL.\n * The theme name is passed as a parameter to the documentation URL.\n *\n * @type {string}\n */\nexport const DOCUMENTATION_URL = `https://docs.athemes.com/documentation/${ window.atssOnboarding?.themeName }`;\n\n/**\n * Facebook Group URL.\n *\n * @type {string}\n */\nexport const FACEBOOK_GROUP_URL = 'https://www.facebook.com/groups/athemes/';\n","/**\r\n * Image utilities - Handle image conversion for preview sync.\r\n *\r\n * @package Athemes Starter Sites\r\n */\r\n\r\n/**\r\n * Check if a URL is from a local/development environment.\r\n *\r\n * @param {string} url The URL to check.\r\n * @return {boolean} True if the URL is local.\r\n */\r\nexport const isLocalUrl = ( url ) => {\r\n\tif ( ! url ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst urlObj = new URL( url );\r\n\t\tconst hostname = urlObj.hostname.toLowerCase();\r\n\r\n\t\t// Check for localhost\r\n\t\tif ( hostname === 'localhost' ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Check for .local domains\r\n\t\tif ( hostname.endsWith( '.local' ) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Check for .test domains\r\n\t\tif ( hostname.endsWith( '.test' ) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Check for IP addresses (127.x.x.x, 192.168.x.x, 10.x.x.x, 172.16-31.x.x)\r\n\t\tconst ipv4Regex = /^(\\d{1,3}\\.){3}\\d{1,3}$/;\r\n\t\tif ( ipv4Regex.test( hostname ) ) {\r\n\t\t\tconst parts = hostname.split( '.' ).map( Number );\r\n\t\t\t// 127.x.x.x (loopback)\r\n\t\t\tif ( parts[ 0 ] === 127 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t// 192.168.x.x (private)\r\n\t\t\tif ( parts[ 0 ] === 192 && parts[ 1 ] === 168 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t// 10.x.x.x (private)\r\n\t\t\tif ( parts[ 0 ] === 10 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t// 172.16.x.x - 172.31.x.x (private)\r\n\t\t\tif ( parts[ 0 ] === 172 && parts[ 1 ] >= 16 && parts[ 1 ] <= 31 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check for IPv6 localhost\r\n\t\tif ( hostname === '::1' || hostname === '[::1]' ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t} catch ( e ) {\r\n\t\t// If URL parsing fails, assume it's not local\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\n/**\r\n * Convert an image URL to a data URL.\r\n *\r\n * @param {string} imageUrl The image URL to convert.\r\n * @return {Promise<string>} Promise that resolves to a data URL.\r\n */\r\nexport const imageUrlToDataUrl = ( imageUrl ) => {\r\n\treturn new Promise( ( resolve, reject ) => {\r\n\t\tconst img = new Image();\r\n\r\n\t\t// Set crossOrigin to anonymous to allow CORS\r\n\t\timg.crossOrigin = 'anonymous';\r\n\r\n\t\timg.onload = () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst canvas = document.createElement( 'canvas' );\r\n\t\t\t\tcanvas.width = img.naturalWidth;\r\n\t\t\t\tcanvas.height = img.naturalHeight;\r\n\r\n\t\t\t\tconst ctx = canvas.getContext( '2d' );\r\n\t\t\t\tctx.drawImage( img, 0, 0 );\r\n\r\n\t\t\t\t// Convert to data URL\r\n\t\t\t\tconst dataUrl = canvas.toDataURL( 'image/png' );\r\n\t\t\t\tresolve( dataUrl );\r\n\t\t\t} catch ( error ) {\r\n\t\t\t\treject( error );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\timg.onerror = () => {\r\n\t\t\treject( new Error( 'Failed to load image' ) );\r\n\t\t};\r\n\r\n\t\timg.src = imageUrl;\r\n\t} );\r\n};\r\n\r\n/**\r\n * Convert a logo object to preview-safe format.\r\n * If the logo URL is local, converts it to a data URL to avoid CORS issues.\r\n *\r\n * @param {Object} logo Logo object with url and id properties.\r\n * @return {Promise<Object>} Promise that resolves to a logo object safe for preview.\r\n */\r\nexport const convertLogoForPreview = async ( logo ) => {\r\n\tif ( ! logo || ! logo.url ) {\r\n\t\treturn logo;\r\n\t}\r\n\r\n\t// If the logo URL is not local, return as-is\r\n\tif ( ! isLocalUrl( logo.url ) ) {\r\n\t\treturn logo;\r\n\t}\r\n\r\n\ttry {\r\n\t\t// Convert local image to data URL\r\n\t\tconst dataUrl = await imageUrlToDataUrl( logo.url );\r\n\t\treturn {\r\n\t\t\t...logo,\r\n\t\t\turl: dataUrl,\r\n\t\t\toriginalUrl: logo.url, // Keep original URL for reference\r\n\t\t};\r\n\t} catch ( error ) {\r\n\t\t// If conversion fails, return original logo\r\n\t\t// The preview will fail to load, but the logo will still be imported correctly\r\n\t\t// eslint-disable-next-line no-console\r\n\t\tconsole.warn( '[Image Utils] Failed to convert logo to data URL:', error );\r\n\t\treturn logo;\r\n\t}\r\n};\r\n","/**\n * Preload helpers for starter site previews.\n *\n * @package Athemes Starter Sites\n */\n\nimport { getStarterSites } from '../data/starter-sites';\n\n/**\n * Add preconnect and DNS prefetch hints for a preview URL.\n * Optimizes iframe loading by establishing early connections to the origin.\n *\n * @param {string} previewUrl The preview URL to add hints for.\n * @param {string} dataAttr   Optional data attribute for tracking (default: 'data-atss-preconnect').\n */\nexport const addPreconnectHints = ( previewUrl, dataAttr = 'data-atss-preconnect' ) => {\n\tif ( ! previewUrl ) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst url = new URL( previewUrl );\n\t\tconst origin = url.origin;\n\n\t\t// Check if hints for this origin already exist\n\t\tconst existingHint = document.querySelector( `link[${ dataAttr }=\"${ origin }\"]` );\n\t\tif ( existingHint ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// DNS prefetch - resolves domain early\n\t\tconst dnsPrefetch = document.createElement( 'link' );\n\t\tdnsPrefetch.rel = 'dns-prefetch';\n\t\tdnsPrefetch.href = origin;\n\t\tdnsPrefetch.setAttribute( dataAttr, origin );\n\t\tdocument.head.appendChild( dnsPrefetch );\n\n\t\t// Preconnect - establishes early connection (DNS + TCP + TLS)\n\t\tconst preconnect = document.createElement( 'link' );\n\t\tpreconnect.rel = 'preconnect';\n\t\tpreconnect.href = origin;\n\t\tpreconnect.setAttribute( dataAttr, origin );\n\t\tdocument.head.appendChild( preconnect );\n\t} catch ( e ) {\n\n\t\t// Invalid URL, skip silently\n\t}\n};\n\n/**\n * Remove preconnect hints for a specific origin or all hints.\n *\n * @param {string} origin     Optional origin to remove hints for. If not provided, removes all.\n * @param {string} dataAttr   Optional data attribute for tracking (default: 'data-atss-preconnect').\n */\nexport const removePreconnectHints = ( origin = null, dataAttr = 'data-atss-preconnect' ) => {\n\tlet selector = `link[${ dataAttr }]`;\n\tif ( origin ) {\n\t\tselector = `link[${ dataAttr }=\"${ origin }\"]`;\n\t}\n\n\tconst links = document.querySelectorAll( selector );\n\tlinks.forEach( ( link ) => link.remove() );\n};\n\n/**\n * Add preconnect hints for an array of page URLs.\n * Used to optimize page iframe loading in the Pages step.\n *\n * @param {Array} pages Array of page objects with 'url' property.\n */\nexport const addPagePreconnectHints = ( pages ) => {\n\tif ( ! pages || ! Array.isArray( pages ) ) {\n\t\treturn;\n\t}\n\n\tpages.forEach( ( page ) => {\n\t\tif ( page.url ) {\n\t\t\taddPreconnectHints( page.url, 'data-atss-page-preconnect' );\n\t\t}\n\t});\n};\n\n/**\n * Remove all page preconnect hints.\n */\nexport const removePagePreconnectHints = () => {\n\tremovePreconnectHints( null, 'data-atss-page-preconnect' );\n};\n","/**\n * Preview Bridge - Handles communication with the preview iframe.\n *\n * @package Athemes Starter Sites\n */\n\n/**\n * PreviewBridge class manages all postMessage communication with preview iframe.\n */\nclass PreviewBridge {\n\n\t/**\n\t * Constructor.\n\t *\n\t * @param {string} iframeId The ID of the iframe element.\n\t */\n\tconstructor( iframeId = 'demo-preview' ) {\n\t\tthis.iframeId = iframeId;\n\t\tthis.iframe = null;\n\t\tthis.isReady = false;\n\t\tthis.messageQueue = [];\n\t\tthis.debug = window.atssOnboarding?.debug || false;\n\t\tthis.messageHandler = null;\n\t\tthis.pendingCustomizations = null;\n\t\tthis.readyReceivedWithoutIframe = false;\n\t}\n\n\t/**\n\t * Initialize the bridge with an iframe element.\n\t *\n\t * @param {HTMLIFrameElement} iframe The iframe element.\n\t */\n\tinit( iframe ) {\n\t\tthis.log( 'info', 'init() called with iframe:', iframe ? ( iframe.id || 'unnamed' ) : 'null' );\n\n\t\t// If called with null, just set up the message handler but don't update iframe ref\n\t\tif ( ! iframe ) {\n\n\t\t\t// Only set up message handler if not already set\n\t\t\tif ( ! this.messageHandler ) {\n\t\t\t\tthis.setupMessageHandler();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Skip if same iframe (avoid re-initialization)\n\t\tif ( this.iframe === iframe ) {\n\t\t\tthis.log( 'info', 'init() called with same iframe, skipping' );\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if we previously received PREVIEW_READY but had no iframe to send to\n\t\tconst hadPendingReady = this.readyReceivedWithoutIframe;\n\n\t\tthis.log( 'info', 'Initializing bridge with new iframe' );\n\t\tthis.iframe = iframe;\n\t\tthis.readyReceivedWithoutIframe = false;\n\n\t\t// Set up message handler if not already set\n\t\tif ( ! this.messageHandler ) {\n\t\t\tthis.setupMessageHandler();\n\t\t}\n\n\t\t// If we had received PREVIEW_READY but couldn't send (no iframe), send now\n\t\tif ( hadPendingReady && this.pendingCustomizations ) {\n\t\t\tthis.log( 'info', 'Had pending ready state, applying customizations now' );\n\t\t\tthis.isReady = true;\n\t\t\tthis.batchUpdate( this.pendingCustomizations );\n\t\t}\n\t}\n\n\t/**\n\t * Set up the message handler for PREVIEW_READY signals.\n\t */\n\tsetupMessageHandler() {\n\n\t\t// Remove previous handler if exists\n\t\tif ( this.messageHandler ) {\n\t\t\twindow.removeEventListener( 'message', this.messageHandler );\n\t\t}\n\n\t\t// Create bound message handler\n\t\tthis.messageHandler = ( event ) => {\n\t\t\tif ( 'ATSS_PREVIEW_READY' === event.data?.type ) {\n\t\t\t\tthis.log( 'info', 'Received ATSS_PREVIEW_READY signal' );\n\t\t\t\tthis.isReady = true;\n\n\t\t\t\t// If we don't have an iframe reference yet, remember that ready was received\n\t\t\t\tif ( ! this.iframe ) {\n\t\t\t\t\tthis.log( 'info', 'No iframe reference yet, marking readyReceivedWithoutIframe' );\n\t\t\t\t\tthis.readyReceivedWithoutIframe = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.flushMessageQueue();\n\n\t\t\t\t// Apply pending customizations if any\n\t\t\t\tif ( this.pendingCustomizations ) {\n\t\t\t\t\tthis.log( 'info', 'Applying pending customizations' );\n\t\t\t\t\tthis.batchUpdate( this.pendingCustomizations );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// Listen for iframe ready message\n\t\twindow.addEventListener( 'message', this.messageHandler );\n\t\tthis.log( 'info', 'Message handler set up' );\n\t}\n\n\t/**\n\t * Reset the ready state when iframe navigates to a new page.\n\t * Call this before the iframe src changes.\n\t */\n\tresetReadyState() {\n\t\tthis.isReady = false;\n\t\tthis.messageQueue = [];\n\t\tthis.readyReceivedWithoutIframe = false;\n\t\tthis.log( 'info', 'Ready state reset for new page load' );\n\t}\n\n\t/**\n\t * Set pending customizations to be applied when iframe becomes ready.\n\t *\n\t * @param {Object} customizations The customizations to apply.\n\t */\n\tsetPendingCustomizations( customizations ) {\n\t\tthis.pendingCustomizations = customizations;\n\t\tthis.log( 'info', 'Pending customizations set', customizations );\n\t}\n\n\t/**\n\t * Clear pending customizations.\n\t */\n\tclearPendingCustomizations() {\n\t\tthis.pendingCustomizations = null;\n\t}\n\n\t/**\n\t * Store customizations to be re-applied when iframe navigates.\n\t *\n\t * @param {Object} updates Partial customization updates to merge.\n\t */\n\tstorePendingCustomizations( updates ) {\n\t\tif ( ! updates || 'object' !== typeof updates ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! this.pendingCustomizations ) {\n\t\t\tthis.pendingCustomizations = {};\n\t\t}\n\n\t\tthis.pendingCustomizations = {\n\t\t\t...this.pendingCustomizations,\n\t\t\t...updates\n\t\t};\n\t}\n\n\t/**\n\t * Send a message to the iframe.\n\t *\n\t * @param {Object} message The message object to send.\n\t * @return {boolean} Whether the message was sent successfully.\n\t */\n\tsend( message ) {\n\t\tif ( ! this.iframe?.contentWindow ) {\n\t\t\tthis.log( 'error', 'Iframe not available', message );\n\t\t\treturn false;\n\t\t}\n\n\t\t// If iframe is not ready, queue the message\n\t\tif ( ! this.isReady ) {\n\t\t\tthis.messageQueue.push( message );\n\t\t\tthis.log( 'info', 'Message queued (iframe not ready)', message );\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\tthis.iframe.contentWindow.postMessage( message, '*' );\n\t\t\tthis.log( 'info', 'Message sent', message );\n\t\t\treturn true;\n\t\t} catch ( error ) {\n\t\t\tthis.log( 'error', 'Failed to send message', { message, error });\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Flush queued messages.\n\t */\n\tflushMessageQueue() {\n\t\tif ( 0 === this.messageQueue.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.log( 'info', `Flushing ${ this.messageQueue.length } queued messages` );\n\n\t\twhile ( 0 < this.messageQueue.length ) {\n\t\t\tconst message = this.messageQueue.shift();\n\t\t\tthis.send( message );\n\t\t}\n\t}\n\n\t/**\n\t * Update colors in the preview.\n\t *\n\t * @param {Object} colors Object with CSS variable names as keys and color values.\n\t * @return {boolean} Whether the update was sent successfully.\n\t */\n\tupdateColors( colors ) {\n\t\tif ( ! colors || 'object' !== typeof colors ) {\n\t\t\tthis.log( 'error', 'Invalid colors object', colors );\n\t\t\treturn false;\n\t\t}\n\n\t\t// Store colors to re-apply on page navigation\n\t\tthis.storePendingCustomizations( { colors } );\n\n\t\treturn this.send({\n\t\t\ttype: 'ATSS_COLOR_UPDATE',\n\t\t\tcolors\n\t\t});\n\t}\n\n\t/**\n\t * Reset colors in the preview to their original values.\n\t *\n\t * @return {boolean} Whether the reset was sent successfully.\n\t */\n\tresetColors() {\n\t\treturn this.send({\n\t\t\ttype: 'ATSS_COLOR_RESET'\n\t\t});\n\t}\n\n\t/**\n\t * Update logo in the preview.\n\t *\n\t * @param {Object} logo Logo data object with url and id.\n\t * @return {boolean} Whether the update was sent successfully.\n\t */\n\tupdateLogo( logo ) {\n\t\tif ( ! logo ) {\n\t\t\tthis.log( 'error', 'Invalid logo object', logo );\n\t\t\treturn false;\n\t\t}\n\n\t\t// Store logo to re-apply on page navigation\n\t\tthis.storePendingCustomizations( { logo } );\n\n\t\treturn this.send({\n\t\t\ttype: 'ATSS_LOGO_UPDATE',\n\t\t\tlogo\n\t\t});\n\t}\n\n\t/**\n\t * Update logo height in the preview.\n\t *\n\t * @param {number} height Logo height in pixels.\n\t * @return {boolean} Whether the update was sent successfully.\n\t */\n\tupdateLogoHeight( height ) {\n\t\t// Store logo height to re-apply on page navigation\n\t\tthis.storePendingCustomizations( { logoHeight: height } );\n\n\t\treturn this.send({\n\t\t\ttype: 'ATSS_LOGO_HEIGHT_UPDATE',\n\t\t\theight\n\t\t});\n\t}\n\n\t/**\n\t * Update site title in the preview.\n\t *\n\t * @param {string}  title     The site title.\n\t * @param {boolean} showTitle Whether to show the title.\n\t * @return {boolean} Whether the update was sent successfully.\n\t */\n\tupdateSiteTitle( title, showTitle ) {\n\t\t// Store site title to re-apply on page navigation\n\t\tthis.storePendingCustomizations( {\n\t\t\ttitle,\n\t\t\tshowTitle\n\t\t} );\n\n\t\treturn this.send({\n\t\t\ttype: 'ATSS_SITE_TITLE_UPDATE',\n\t\t\ttitle,\n\t\t\tshowTitle\n\t\t});\n\t}\n\n\t/**\n\t * Update typography in the preview.\n\t *\n\t * @param {Object} typography Typography data object.\n\t * @return {boolean} Whether the update was sent successfully.\n\t */\n\tupdateTypography( typography ) {\n\t\tif ( ! typography || 'object' !== typeof typography ) {\n\t\t\tthis.log( 'error', 'Invalid typography object', typography );\n\t\t\treturn false;\n\t\t}\n\n\t\t// Store typography to re-apply on page navigation\n\t\tthis.storePendingCustomizations( { typography } );\n\n\t\treturn this.send({\n\t\t\ttype: 'ATSS_TYPOGRAPHY_UPDATE',\n\t\t\ttypography\n\t\t});\n\t}\n\n\t/**\n\t * Reset typography in the preview to their original values.\n\t *\n\t * @return {boolean} Whether the reset was sent successfully.\n\t */\n\tresetTypography() {\n\t\treturn this.send({\n\t\t\ttype: 'ATSS_TYPOGRAPHY_RESET'\n\t\t});\n\t}\n\n\t/**\n\t * Send batch updates to the preview.\n\t *\n\t * @param {Object} updates Object containing multiple update types.\n\t * @return {boolean} Whether the update was sent successfully.\n\t */\n\tbatchUpdate( updates ) {\n\t\treturn this.send({\n\t\t\ttype: 'ATSS_BATCH_UPDATE',\n\t\t\tupdates\n\t\t});\n\t}\n\n\t/**\n\t * Mark iframe as ready (for testing or manual control).\n\t */\n\tmarkReady() {\n\t\tthis.isReady = true;\n\t\tthis.flushMessageQueue();\n\t}\n\n\t/**\n\t * Log messages if debug mode is enabled.\n\t *\n\t * @param {string} level   Log level (info, warn, error).\n\t * @param {string} message Log message.\n\t * @param {*}      data    Additional data to log.\n\t */\n\tlog( level, message, data ) {\n\t\tif ( ! this.debug ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst prefix = '[PreviewBridge]';\n\t\t/* eslint-disable no-console */\n\t\tswitch ( level ) {\n\t\tcase 'error':\n\t\t\tconsole.error( prefix, message, data );\n\t\t\tbreak;\n\t\tcase 'warn':\n\t\t\tconsole.warn( prefix, message, data );\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log( prefix, message, data );\n\t\t}\n\t\t/* eslint-enable no-console */\n\t}\n\n\t/**\n\t * Destroy the bridge and clean up.\n\t */\n\tdestroy() {\n\t\tif ( this.messageHandler ) {\n\t\t\twindow.removeEventListener( 'message', this.messageHandler );\n\t\t\tthis.messageHandler = null;\n\t\t}\n\t\tthis.iframe = null;\n\t\tthis.isReady = false;\n\t\tthis.messageQueue = [];\n\t\tthis.pendingCustomizations = null;\n\t\tthis.readyReceivedWithoutIframe = false;\n\t}\n}\n\n// Create a singleton instance\nconst previewBridge = new PreviewBridge();\n\nexport default previewBridge;\n\n","/**\n * usePreviewSync hook - Syncs wizard data with preview iframe.\n *\n * @package Athemes Starter Sites\n */\n\nimport { useEffect, useRef } from '@wordpress/element';\nimport previewBridge from './preview-bridge';\nimport { convertLogoForPreview } from './image-utils';\n\n/**\n * Transform color scheme data to preview-compatible format.\n *\n * @param {string} schemeId       The selected color scheme ID.\n * @param {Array}  colorSchemes   Array of available color schemes.\n * @param {Object} customColors   Custom generated colors (if scheme is 'custom').\n * @return {Object|null} Color data ready for preview, or null if not available.\n */\nconst transformColors = ( schemeId, colorSchemes, customColors ) => {\n\tif ( ! schemeId ) {\n\t\treturn null;\n\t}\n\n\t// Handle custom colors\n\tif ( 'custom' === schemeId ) {\n\n\t\t// Validate that customColors has actual color properties\n\t\tif ( ! customColors || 'object' !== typeof customColors || 0 === Object.keys( customColors ).length ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn customColors;\n\t}\n\n\t// Find the selected scheme\n\tconst selectedScheme = colorSchemes.find( ( scheme ) => scheme.id === schemeId );\n\tif ( ! selectedScheme || ! selectedScheme.colors ) {\n\t\treturn null;\n\t}\n\n\treturn selectedScheme.colors;\n};\n\n/**\n * Hook to sync colors with the preview iframe.\n *\n * @param {Object} options Hook options.\n * @param {string} options.selectedColorScheme   The selected color scheme ID.\n * @param {Array}  options.colorSchemes         Array of available color schemes.\n * @param {Object} options.customColors         Custom generated colors.\n * @param {number} options.debounceMs           Debounce delay in milliseconds (default: 300).\n */\nexport const useColorPreviewSync = ({\n\tselectedColorScheme,\n\tcolorSchemes = [],\n\tcustomColors = {},\n\tdebounceMs = 300\n}) => {\n\tconst timeoutRef = useRef( null );\n\n\tuseEffect( () => {\n\n\t\t// Clear any pending timeout\n\t\tif ( timeoutRef.current ) {\n\t\t\tclearTimeout( timeoutRef.current );\n\t\t}\n\n\t\t// Debounce the color update\n\t\ttimeoutRef.current = setTimeout( () => {\n\t\t\tconst colors = transformColors( selectedColorScheme, colorSchemes, customColors );\n\n\t\t\tif ( colors ) {\n\t\t\t\tpreviewBridge.updateColors( colors );\n\t\t\t}\n\t\t}, debounceMs );\n\n\t\t// Cleanup\n\t\treturn () => {\n\t\t\tif ( timeoutRef.current ) {\n\t\t\t\tclearTimeout( timeoutRef.current );\n\t\t\t}\n\t\t};\n\t}, [ selectedColorScheme, colorSchemes, customColors, debounceMs ]);\n};\n\n/**\n * Hook to sync logo with the preview iframe.\n *\n * @param {Object} siteLogo Logo data object with url and id.\n * @param {number} logoHeight Optional logo height to include in the logo object.\n */\nexport const useLogoPreviewSync = ( siteLogo, logoHeight ) => {\n\tuseEffect( () => {\n\t\tif ( ! siteLogo ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Convert logo to preview-safe format (handles local URLs)\n\t\tconst syncLogo = async () => {\n\t\t\ttry {\n\t\t\t\t// Include height in logo object if provided\n\t\t\t\tconst logoWithHeight = logoHeight !== undefined && null !== logoHeight ?\n\t\t\t\t\t{ ...siteLogo, height: logoHeight } :\n\t\t\t\t\tsiteLogo;\n\n\t\t\t\t// Convert local URLs to data URLs to avoid CORS issues\n\t\t\t\tconst previewSafeLogo = await convertLogoForPreview( logoWithHeight );\n\n\t\t\t\tpreviewBridge.updateLogo( previewSafeLogo );\n\t\t\t} catch ( error ) {\n\t\t\t\t// If conversion fails, send original logo anyway\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.warn( '[useLogoPreviewSync] Failed to convert logo:', error );\n\n\t\t\t\tconst logoWithHeight = logoHeight !== undefined && null !== logoHeight ?\n\t\t\t\t\t{ ...siteLogo, height: logoHeight } :\n\t\t\t\t\tsiteLogo;\n\n\t\t\t\tpreviewBridge.updateLogo( logoWithHeight );\n\t\t\t}\n\t\t};\n\n\t\tsyncLogo();\n\t}, [ siteLogo, logoHeight ]);\n};\n\n/**\n * Hook to sync logo height with the preview iframe.\n *\n * @param {number} logoHeight The logo height.\n */\nexport const useLogoHeightPreviewSync = ( logoHeight ) => {\n\tuseEffect( () => {\n\t\tif ( logoHeight !== undefined && null !== logoHeight ) {\n\t\t\tpreviewBridge.updateLogoHeight( logoHeight );\n\t\t}\n\t}, [ logoHeight ]);\n};\n\n/**\n * Hook to sync site title with the preview iframe.\n *\n * @param {string}  siteTitle    The site title.\n * @param {boolean} showSiteTitle Whether to show the title.\n */\nexport const useSiteTitlePreviewSync = ( siteTitle, showSiteTitle ) => {\n\tconst timeoutRef = useRef( null );\n\n\tuseEffect( () => {\n\n\t\t// Clear any pending timeout\n\t\tif ( timeoutRef.current ) {\n\t\t\tclearTimeout( timeoutRef.current );\n\t\t}\n\n\t\t// Debounce the title update\n\t\ttimeoutRef.current = setTimeout( () => {\n\t\t\tpreviewBridge.updateSiteTitle( siteTitle, showSiteTitle );\n\t\t}, 500 );\n\n\t\t// Cleanup\n\t\treturn () => {\n\t\t\tif ( timeoutRef.current ) {\n\t\t\t\tclearTimeout( timeoutRef.current );\n\t\t\t}\n\t\t};\n\t}, [ siteTitle, showSiteTitle ]);\n};\n\n/**\n * Hook to sync typography with the preview iframe.\n *\n * @param {string} selectedTypographyPair The selected typography pair ID.\n * @param {Array}  typographyPairs       Array of available typography pairs.\n */\nexport const useTypographyPreviewSync = ( selectedTypographyPair, typographyPairs ) => {\n\tuseEffect( () => {\n\t\tif ( ! selectedTypographyPair ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selectedPair = typographyPairs.find( ( pair ) => pair.id === selectedTypographyPair );\n\t\tif ( selectedPair ) {\n\t\t\tpreviewBridge.updateTypography( selectedPair );\n\t\t}\n\t}, [ selectedTypographyPair, typographyPairs ]);\n};\n\n/**\n * Hook to initialize the preview bridge with an iframe.\n * This hook watches for the iframe element to become available and initializes the bridge.\n *\n * @param {Object} iframeRef React ref to the iframe element.\n */\nexport const usePreviewBridgeInit = ( iframeRef ) => {\n\tuseEffect( () => {\n\n\t\t// Initialize immediately if iframe is available\n\t\tif ( iframeRef?.current ) {\n\t\t\tpreviewBridge.init( iframeRef.current );\n\t\t}\n\t}, [ iframeRef ]);\n\n\t// Also watch for when the iframe element becomes available (for conditional rendering)\n\tuseEffect( () => {\n\n\t\t// If iframe ref exists and has a current value, and it's different from what bridge has\n\t\tif ( iframeRef?.current && previewBridge.iframe !== iframeRef.current ) {\n\t\t\tpreviewBridge.init( iframeRef.current );\n\t\t}\n\t});\n};\n\n"],"names":["useState","useEffect","useRef","__","ColorPicker","Popover","Icon","rotateLeft","generateColorScheme","previewBridge","jsx","_jsx","jsxs","_jsxs","CustomColorsControl","label","colorSchemes","value","onChange","onCustomColors","customColors","customPrimaryColor","savedPrimaryColor","onPrimaryColorChange","themeName","setCustomPrimaryColor","generatedColors","setGeneratedColors","contrastWarnings","setContrastWarnings","isPickerOpen","setIsPickerOpen","colorSwatchRef","getFirstThreeColors","scheme","colors","colorValues","Object","values","slice","handleSelect","schemeId","handleReset","resetColors","handlePrimaryColorChange","color","warnings","keys","length","className","children","type","onClick","icon","map","isSelected","id","name","index","style","backgroundColor","ref","e","target","placeholder","anchor","current","placement","offset","onClose","enableAlpha","copyFormat","warning","message","entries","key","title","Button","crownIcon","ACCOUNT_URL","DEFAULT_UPGRADE_URL","CustomizeUpsell","isVisible","upgradeUrl","src","alt","width","height","variant","href","rel","__experimentalToggleGroupControl","ToggleGroupControl","__experimentalToggleGroupControlOptionIcon","ToggleGroupControlOptionIcon","desktop","tablet","mobile","DevicePreviewControl","isBlock","__next40pxDefaultSize","__nextHasNoMarginBottom","trash","PropTypes","MediaUploadControl","onRemove","buttonText","allowedTypes","openMediaLibrary","window","wp","media","console","error","frame","button","text","multiple","library","on","attachment","state","get","first","toJSON","url","open","handleRemove","filename","split","pop","isDestructive","size","propTypes","string","number","func","isRequired","defaultProps","TypographyControl","typographyPairs","linkRef","selectedPair","find","pair","fontNames","fontFamilies","filter","googleFontsUrl","URL","searchParams","Boolean","link","document","createElement","combinedUrl","f","join","head","appendChild","parentNode","removeChild","pairId","resetTypography","fontFamily","headingFont","family","fontWeight","fontSize","bodyFont","useMemo","TextControl","ToggleControl","RangeControl","Footer","Spinner","useWizard","getStarterSiteById","getThemeName","getColorSchemesForSite","getTypographyPairsForSite","getTypographyPairById","addPreconnectHints","removePreconnectHints","addPagePreconnectHints","getDemoPages","usePreviewBridgeInit","useColorPreviewSync","useLogoPreviewSync","useLogoHeightPreviewSync","useSiteTitlePreviewSync","useTypographyPreviewSync","Customize","onBack","onContinue","navigationLoading","navigationError","wizardData","prefetchedPages","setPrefetchedPages","siteTitle","setSiteTitle","builder","iframeRef","isIframeLoading","setIsIframeLoading","customizeData","designData","siteLogo","setSiteLogo","logoHeight","setLogoHeight","showSiteTitle","setShowSiteTitle","selectedColorScheme","setSelectedColorScheme","setCustomColors","selectedTypographyPair","setSelectedTypographyPair","previewDevice","setPreviewDevice","cleanInstall","setCleanInstall","selectedSiteId","selectedSite","hasExistingStarter","atssOnboarding","currentStarter","isProTemplate","s","previewUrl","site","preview","replace","handleLogoChange","newLogo","handleIframeLoad","pagesData","sortedPages","sort","a","b","aIsHome","test","trim","bIsHome","filteredPages","page","err","log","handleContinue","min","max","checked","help","undefined","showBack","showSkip","continueText","continueDisabled","continueLoading","continueError","includes","onLoad","opacity","themeColorSchemes","sydney","botiga","siteData","getColorSchemeById","schemes","getRawDemos","demos","getStarterSites","data","getOnboardingSettings","settings","pairs","hexToHSL","hex","r","parseInt","substring","g","Math","h","l","d","round","hslToHex","hue2rgb","p","q","t","toHex","x","toString","lighten","amount","hsl","darken","getRelativeLuminance","toLinear","c","pow","rLinear","gLinear","bLinear","calculateContrastRatio","color1","color2","lum1","lum2","lighter","darker","primaryColor","primaryHue","primaryLightness","themeSlug","toLowerCase","i","primaryContrast","push","ratio","toFixed","bodyTextContrast","headingsContrast","ATHEMES_BASE_URL","DOCUMENTATION_URL","FACEBOOK_GROUP_URL","isLocalUrl","urlObj","hostname","endsWith","ipv4Regex","parts","Number","imageUrlToDataUrl","imageUrl","Promise","resolve","reject","img","Image","crossOrigin","onload","canvas","naturalWidth","naturalHeight","ctx","getContext","drawImage","dataUrl","toDataURL","onerror","Error","convertLogoForPreview","logo","originalUrl","warn","dataAttr","origin","existingHint","querySelector","dnsPrefetch","setAttribute","preconnect","selector","links","querySelectorAll","forEach","remove","pages","Array","isArray","removePagePreconnectHints","PreviewBridge","constructor","iframeId","iframe","isReady","messageQueue","debug","messageHandler","pendingCustomizations","readyReceivedWithoutIframe","init","setupMessageHandler","hadPendingReady","batchUpdate","removeEventListener","event","flushMessageQueue","addEventListener","resetReadyState","setPendingCustomizations","customizations","clearPendingCustomizations","storePendingCustomizations","updates","send","contentWindow","postMessage","shift","updateColors","updateLogo","updateLogoHeight","updateSiteTitle","showTitle","updateTypography","typography","markReady","level","prefix","destroy","transformColors","selectedScheme","debounceMs","timeoutRef","clearTimeout","setTimeout","syncLogo","logoWithHeight","previewSafeLogo"],"ignoreList":[],"sourceRoot":""}