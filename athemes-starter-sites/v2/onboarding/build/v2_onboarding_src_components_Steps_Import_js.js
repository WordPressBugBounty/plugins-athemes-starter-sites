"use strict";
(globalThis["webpackChunkathemes_starter_sites"] = globalThis["webpackChunkathemes_starter_sites"] || []).push([["v2_onboarding_src_components_Steps_Import_js"],{

/***/ "./v2/onboarding/src/assets/images/link.svg":
/*!**************************************************!*\
  !*** ./v2/onboarding/src/assets/images/link.svg ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ReactComponent: () => (/* binding */ SvgLink),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _path;
function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }

var SvgLink = function SvgLink(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: 14,
    height: 14,
    fill: "none"
  }, props), _path || (_path = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "#fff",
    d: "M8 1c0-.531.438-1 1-1h3.969c.156 0 .281.031.406.094a1 1 0 0 1 .313.219c.187.187.28.437.312.687v4c0 .563-.469 1-1 1-.562 0-1-.437-1-1V3.438l-5.312 5.28a.964.964 0 0 1-1.407 0 .964.964 0 0 1 0-1.405L10.563 2H9c-.562 0-1-.437-1-1M0 3c0-1.094.875-2 2-2h3c.531 0 1 .469 1 1 0 .563-.469 1-1 1H2v9h9V9c0-.531.438-1 1-1 .531 0 1 .469 1 1v3c0 1.125-.906 2-2 2H2c-1.125 0-2-.875-2-2z"
  })));
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik04IDFDOCAwLjQ2ODc1IDguNDM3NSAwIDkgMEgxMi45Njg4QzEzLjEyNSAwIDEzLjI1IDAuMDMxMjUgMTMuMzc1IDAuMDkzNzVDMTMuNDY4OCAwLjEyNSAxMy41OTM4IDAuMjE4NzUgMTMuNjg3NSAwLjMxMjVDMTMuODc1IDAuNSAxMy45Njg4IDAuNzUgMTQgMVY1QzE0IDUuNTYyNSAxMy41MzEyIDYgMTMgNkMxMi40Mzc1IDYgMTIgNS41NjI1IDEyIDVWMy40Mzc1TDYuNjg3NSA4LjcxODc1QzYuMzEyNSA5LjEyNSA1LjY1NjI1IDkuMTI1IDUuMjgxMjUgOC43MTg3NUM0Ljg3NSA4LjM0Mzc1IDQuODc1IDcuNjg3NSA1LjI4MTI1IDcuMzEyNUwxMC41NjI1IDJIOUM4LjQzNzUgMiA4IDEuNTYyNSA4IDFaTTAgM0MwIDEuOTA2MjUgMC44NzUgMSAyIDFINUM1LjUzMTI1IDEgNiAxLjQ2ODc1IDYgMkM2IDIuNTYyNSA1LjUzMTI1IDMgNSAzSDJWMTJIMTFWOUMxMSA4LjQ2ODc1IDExLjQzNzUgOCAxMiA4QzEyLjUzMTIgOCAxMyA4LjQ2ODc1IDEzIDlWMTJDMTMgMTMuMTI1IDEyLjA5MzggMTQgMTEgMTRIMkMwLjg3NSAxNCAwIDEzLjEyNSAwIDEyVjNaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9zdmc+");

/***/ }),

/***/ "./v2/onboarding/src/assets/images/success.svg":
/*!*****************************************************!*\
  !*** ./v2/onboarding/src/assets/images/success.svg ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ReactComponent: () => (/* binding */ SvgSuccess),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _rect, _path;
function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }

var SvgSuccess = function SvgSuccess(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: 74,
    height: 74,
    fill: "none"
  }, props), _rect || (_rect = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    width: 74,
    height: 74,
    fill: "#E3FCE7",
    rx: 37
  })), _path || (_path = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "#008A20",
    d: "M50.375 27.625c.813.75.813 2.063 0 2.813l-16 16a1.927 1.927 0 0 1-2.812 0l-8-8a1.927 1.927 0 0 1 0-2.813 1.927 1.927 0 0 1 2.812 0L33 42.188l14.563-14.563a1.927 1.927 0 0 1 2.812 0"
  })));
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzQiIGhlaWdodD0iNzQiIHZpZXdCb3g9IjAgMCA3NCA3NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9Ijc0IiBoZWlnaHQ9Ijc0IiByeD0iMzciIGZpbGw9IiNFM0ZDRTciLz4KPHBhdGggZD0iTTUwLjM3NSAyNy42MjVDNTEuMTg3NSAyOC4zNzUgNTEuMTg3NSAyOS42ODc1IDUwLjM3NSAzMC40Mzc1TDM0LjM3NSA0Ni40Mzc1QzMzLjYyNSA0Ny4yNSAzMi4zMTI1IDQ3LjI1IDMxLjU2MjUgNDYuNDM3NUwyMy41NjI1IDM4LjQzNzVDMjIuNzUgMzcuNjg3NSAyMi43NSAzNi4zNzUgMjMuNTYyNSAzNS42MjVDMjQuMzEyNSAzNC44MTI1IDI1LjYyNSAzNC44MTI1IDI2LjM3NSAzNS42MjVMMzMgNDIuMTg3NUw0Ny41NjI1IDI3LjYyNUM0OC4zMTI1IDI2LjgxMjUgNDkuNjI1IDI2LjgxMjUgNTAuMzc1IDI3LjYyNVoiIGZpbGw9IiMwMDhBMjAiLz4KPC9zdmc+");

/***/ }),

/***/ "./v2/onboarding/src/components/Layout/Complete.js":
/*!*********************************************************!*\
  !*** ./v2/onboarding/src/components/Layout/Complete.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _assets_images_success_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../assets/images/success.svg */ "./v2/onboarding/src/assets/images/success.svg");
/* harmony import */ var _assets_images_link_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../assets/images/link.svg */ "./v2/onboarding/src/assets/images/link.svg");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index */ "./v2/onboarding/src/components/Layout/index.js");
/* harmony import */ var _utils_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/config */ "./v2/onboarding/src/utils/config.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);
/**
 * Complete component.
 * Displays the success screen after import is complete with a preview iframe.
 *
 * @package Athemes Starter Sites
 */









function Complete() {
  const siteUrl = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useRef)(window.location.origin);
  const [isIframeLoading, setIsIframeLoading] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
  const [isIframeError, setIsIframeError] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [isHovering, setIsHovering] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const handleViewSite = () => {
    window.open(siteUrl.current, '_blank');
  };
  const handleDocumentation = () => {
    window.open(_utils_config__WEBPACK_IMPORTED_MODULE_5__.DOCUMENTATION_URL, '_blank');
  };
  const handleIframeLoad = () => {
    setIsIframeLoading(false);
  };
  const handleIframeError = () => {
    setIsIframeLoading(false);
    setIsIframeError(true);
  };
  const handlePreviewClick = () => {
    window.open(siteUrl.current, '_blank');
  };
  const footerActions = [{
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('Customize Site', 'athemes-starter-sites'),
    onClick: () => {
      const customizeUrl = window.atssOnboarding?.customizeUrl;
      if (customizeUrl) {
        window.open(customizeUrl, '_blank');
      }
    }
  }, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('Documentation', 'athemes-starter-sites'),
    onClick: handleDocumentation
  }, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('Join Facebook Group', 'athemes-starter-sites'),
    onClick: () => {
      window.open(_utils_config__WEBPACK_IMPORTED_MODULE_5__.FACEBOOK_GROUP_URL, '_blank');
    }
  }];
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div", {
    className: "atss-onboarding-wizard__step atss-onboarding-wizard__step--complete",
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("main", {
      className: "atss-onboarding-wizard__step-body",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
        className: "atss-onboarding-wizard__step-body-content atss-onboarding-wizard__step-body-content-inner",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div", {
          className: "atss-complete",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
            className: "atss-complete__icon-wrapper",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("img", {
              src: _assets_images_success_svg__WEBPACK_IMPORTED_MODULE_2__["default"],
              alt: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('Success icon indicating site setup is complete', 'athemes-starter-sites'),
              className: "atss-complete__icon"
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div", {
            className: "atss-complete__header",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("h2", {
              className: "atss-onboarding-wizard__step-body-title text-xl font-medium",
              children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('Site setup complete!', 'athemes-starter-sites')
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p", {
              className: "atss-onboarding-wizard__step-body-description text-sm text-secondary",
              children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('You can choose to visit site and start customizing it or check out our documentation for more details', 'athemes-starter-sites')
            })]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
            className: "atss-complete__preview",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div", {
              className: "atss-complete__preview-inner",
              onMouseEnter: () => setIsHovering(true),
              onMouseLeave: () => setIsHovering(false),
              onClick: handlePreviewClick,
              children: [isIframeLoading && !isIframeError ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
                className: "atss-complete__preview-loading",
                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_index__WEBPACK_IMPORTED_MODULE_4__.Spinner, {})
              }) : null, isHovering && !isIframeLoading ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
                className: "atss-complete__preview-overlay",
                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
                  className: "atss-complete__preview-overlay-icon",
                  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("img", {
                    src: _assets_images_link_svg__WEBPACK_IMPORTED_MODULE_3__["default"],
                    alt: ""
                  })
                })
              }) : null, isIframeError ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div", {
                className: "atss-complete__preview-error",
                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p", {
                  children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('Unable to load site preview', 'athemes-starter-sites')
                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("button", {
                  type: "button",
                  className: "atss-onboarding-wizard__btn atss-onboarding-wizard__btn--continue",
                  onClick: handleViewSite,
                  children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('View Site Anyway', 'athemes-starter-sites')
                })]
              }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("iframe", {
                src: siteUrl.current,
                title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('Site Preview', 'athemes-starter-sites'),
                className: "atss-complete__iframe",
                onLoad: handleIframeLoad,
                onError: handleIframeError
              })]
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("button", {
            type: "button",
            className: "atss-onboarding-wizard__btn atss-onboarding-wizard__btn--continue w100",
            onClick: handleViewSite,
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span", {
              children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)('Visit Site', 'athemes-starter-sites')
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span", {
              className: "atss-onboarding-wizard__btn-arrow",
              "aria-hidden": "true",
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("svg", {
                width: "16",
                height: "11",
                viewBox: "0 0 16 11",
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
                "aria-hidden": "true",
                focusable: "false",
                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("path", {
                  d: "M10.4062 0.140625C10.582 4.51798e-07 10.8281 4.30284e-07 11.0039 0.140625L15.6445 4.78125C15.7852 4.95703 15.7852 5.20312 15.6445 5.37891L11.0039 10.0195C10.8281 10.1602 10.582 10.1602 10.4062 10.0195L9.70312 9.31641C9.5625 9.14063 9.5625 8.89453 9.73828 8.71875L12.5508 6.01172L0.421874 6.01172C0.210937 6.01172 -1.00946e-06 5.80078 -1.0279e-06 5.58985L-1.11396e-06 4.60547C-1.13547e-06 4.35938 0.210936 4.1836 0.421874 4.1836L12.5508 4.18359L9.73828 1.44141C9.5625 1.26563 9.5625 1.01953 9.70312 0.843751L10.4062 0.140625Z",
                  fill: "white"
                })
              })
            })]
          })]
        })
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("footer", {
      className: "atss-onboarding-wizard__footer flex gap-md",
      children: footerActions.map((action, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_index__WEBPACK_IMPORTED_MODULE_4__.FooterButton, {
        label: action.label,
        onClick: action.onClick
      }, index))
    })]
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Complete);

/***/ }),

/***/ "./v2/onboarding/src/components/Steps/Import.js":
/*!******************************************************!*\
  !*** ./v2/onboarding/src/components/Steps/Import.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Layout */ "./v2/onboarding/src/components/Layout/index.js");
/* harmony import */ var _context_WizardContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/WizardContext */ "./v2/onboarding/src/context/WizardContext.js");
/* harmony import */ var _utils_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/api */ "./v2/onboarding/src/utils/api.js");
/* harmony import */ var _Layout_Complete__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Layout/Complete */ "./v2/onboarding/src/components/Layout/Complete.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);
/**
 * Import step component.
 *
 * Orchestrates the entire import process including:
 * - Plugin installation
 * - Content import with page filtering
 * - Widget import
 * - Customizer import
 * - Wizard customizations application
 *
 * @package Athemes Starter Sites
 */








/**
 * Send email to Drip if user opted in.
 * Mirrors the legacy behavior from v2/assets/js/src/script.js
 *
 * @param {Object} wizardData The wizard state data.
 */

const sendEmailToDrip = wizardData => {
  const optinData = wizardData.optin || {};
  const email = optinData.email;

  // Only send if user provided email and opted in.
  if (!email) {
    return;
  }

  // Ensure Drip is loaded (same account ID as legacy: 5598225).
  if (typeof window._dcq === 'undefined') {
    window._dcq = window._dcq || [];
    window._dcs = window._dcs || {};
    window._dcs.account = 5598225;
    const dc = document.createElement('script');
    dc.type = 'text/javascript';
    dc.async = true;
    dc.src = '//tag.getdrip.com/' + window._dcs.account + '.js';
    document.head.appendChild(dc);
  }

  // Send to Drip with theme name tag (e.g., "Sydney", "Botiga").
  const themeName = window.atssOnboarding && window.atssOnboarding.themeName ? window.atssOnboarding.themeName : 'Unknown';
  window._dcq.push(['identify', {
    email: email,
    tags: [themeName]
  }]);
};

/**
 * Build the import steps array based on wizard data.
 *
 * @param {Object} wizardData The wizard state data.
 * @param {string} builder    The selected builder.
 * @return {Array} Array of import step objects.
 */
const getImportSteps = (wizardData, builder) => {
  const steps = [];
  const demos = window.atssOnboarding && window.atssOnboarding.demos ? window.atssOnboarding.demos : {};
  const demoId = wizardData.design && wizardData.design.selectedSiteId ? wizardData.design.selectedSiteId : '';
  const customize = wizardData.customize || {};
  const cleanInstall = customize.cleanInstall || false;
  const features = wizardData.features || {};
  const selectedPlugins = features.selectedPlugins || [];

  // 1. Start import.
  steps.push({
    action: 'atss_import_start',
    log: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Starting import...', 'athemes-starter-sites'),
    priority: 1
  });

  // 2. Clean previous import (conditional).
  if (cleanInstall) {
    steps.push({
      action: 'atss_import_clean',
      log: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Cleaning previous import...', 'athemes-starter-sites'),
      priority: 2
    });
  }

  // 3. Install plugins (one step per plugin).
  const demo = demos[demoId];
  if (demo && demo.plugins && selectedPlugins.length > 0) {
    // Fallback plugins that may be dynamically added (e.g., Elementor when selected as builder).
    const fallbackPlugins = {
      'elementor': {
        slug: 'elementor',
        path: 'elementor/elementor.php',
        name: 'Elementor'
      }
    };
    selectedPlugins.forEach(slug => {
      let plugin = demo.plugins.find(p => p.slug === slug);

      // Handle dynamically added plugins not defined in demo.plugins.
      if (!plugin && fallbackPlugins[slug]) {
        plugin = fallbackPlugins[slug];
      }
      if (plugin) {
        steps.push({
          action: 'atss_import_plugin',
          slug: plugin.slug,
          path: plugin.path,
          log: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Installing', 'athemes-starter-sites') + ' ' + plugin.name + '...',
          priority: 3
        });
      }
    });
  }

  // 4. Import content.
  steps.push({
    action: 'atss_import_contents',
    log: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Importing content...', 'athemes-starter-sites'),
    priority: 4
  });

  // 5. Import widgets.
  steps.push({
    action: 'atss_import_widgets',
    log: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Importing widgets...', 'athemes-starter-sites'),
    priority: 5
  });

  // 6. Import customizer settings.
  steps.push({
    action: 'atss_import_customizer',
    log: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Importing customizer settings...', 'athemes-starter-sites'),
    priority: 6
  });

  // 7. Apply wizard customizations (logo, colors, typography, site title).
  steps.push({
    action: 'atss_apply_wizard_customizations',
    log: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Applying your customizations...', 'athemes-starter-sites'),
    priority: 7
  });

  // 8. Finish import.
  steps.push({
    action: 'atss_import_finish',
    log: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Finishing import...', 'athemes-starter-sites'),
    priority: 8
  });
  return steps;
};

/**
 * Import step component.
 *
 * @param {Object}   props            Component props.
 * @param {Function} props.onContinue Callback when import is complete.
 * @return {JSX.Element} Import component.
 */
function Import({
  onContinue
}) {
  const {
    wizardData,
    setIsImportComplete,
    builder
  } = (0,_context_WizardContext__WEBPACK_IMPORTED_MODULE_3__.useWizard)();
  const [progress, setProgress] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(0);
  const [status, setStatus] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Preparing import...', 'athemes-starter-sites'));
  const [isComplete, setIsComplete] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [error, setError] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
  const [importStarted, setImportStarted] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(false);

  // Get import configuration from wizard data.
  const design = wizardData.design || {};
  const demoId = design.selectedSiteId || '';
  const selectedBuilder = builder || 'gutenberg';

  /**
   * Execute the import steps sequentially.
   */
  const executeImport = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async () => {
    // Send email to Drip first (non-blocking).
    sendEmailToDrip(wizardData);
    const steps = getImportSteps(wizardData, selectedBuilder);
    if (steps.length === 0) {
      setError((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('No import steps configured.', 'athemes-starter-sites'));
      return;
    }
    let currentStep = 0;
    while (currentStep < steps.length) {
      const step = steps[currentStep];

      // Update UI.
      setStatus(step.log);
      setProgress(Math.round(currentStep / steps.length * 100));
      try {
        // Execute the AJAX request.
        const response = await (0,_utils_api__WEBPACK_IMPORTED_MODULE_4__.importAjaxRequest)({
          ...step,
          demo_id: demoId,
          builder_type: selectedBuilder
        });

        // Check for errors.
        if (response && response.success === false) {
          // For widget and customizer imports, log but don't block.
          if (step.action === 'atss_import_widgets' || step.action === 'atss_import_customizer') {
            // eslint-disable-next-line no-console
            console.warn('Non-critical import step failed:', step.action, response.data);
            currentStep++;
            continue;
          }

          // For plugin installs, log but continue.
          if (step.action === 'atss_import_plugin') {
            // eslint-disable-next-line no-console
            console.warn('Plugin installation failed:', step.slug, response.data);
            currentStep++;
            continue;
          }

          // For other steps, show error.
          throw new Error(response.data || (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Import step failed.', 'athemes-starter-sites'));
        }

        // Handle newAJAX response (content import needs multiple calls).
        if (response && response.status === 'newAJAX') {
          // Don't increment step, retry the same step.
          continue;
        }

        // Move to next step.
        currentStep++;
      } catch (err) {
        // eslint-disable-next-line no-console
        console.error('Import error:', err);

        // For content timeout, retry once.
        if (step.action === 'atss_import_contents' && err.name === 'AbortError') {
          // eslint-disable-next-line no-console
          console.log('Content import timeout, retrying...');
          continue;
        }

        // For widget timeouts, skip and continue.
        if (step.action === 'atss_import_widgets' && err.name === 'AbortError') {
          // eslint-disable-next-line no-console
          console.warn('Widget import timed out, skipping...');
          currentStep++;
          continue;
        }
        setError(err.message || (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('An error occurred during import.', 'athemes-starter-sites'));
        return;
      }
    }

    // Import complete.
    setProgress(100);
    setStatus((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Import complete!', 'athemes-starter-sites'));
    setIsComplete(true);
    setIsImportComplete(true);
  }, [wizardData, demoId, selectedBuilder, setIsImportComplete]);

  // Start import on component mount.
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!importStarted && demoId) {
      setImportStarted(true);
      executeImport();
    }
  }, [importStarted, demoId, executeImport]);

  // Error state.
  if (error) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
      className: "atss-onboarding-wizard__step atss-onboarding-wizard__step--import",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("main", {
        className: "atss-onboarding-wizard__step-body",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
          className: "atss-onboarding-wizard__step-body-content",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div", {
            className: "atss-import-error",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("svg", {
              width: "64",
              height: "64",
              viewBox: "0 0 24 24",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("circle", {
                cx: "12",
                cy: "12",
                r: "10",
                stroke: "#dc2626",
                strokeWidth: "2"
              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("path", {
                d: "M12 7v6",
                stroke: "#dc2626",
                strokeWidth: "2",
                strokeLinecap: "round"
              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("circle", {
                cx: "12",
                cy: "16",
                r: "1",
                fill: "#dc2626"
              })]
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("h2", {
              className: "atss-onboarding-wizard__step-body-title text-xl font-medium",
              children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Import Failed', 'athemes-starter-sites')
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p", {
              className: "atss-onboarding-wizard__step-body-description text-sm text-secondary",
              children: error
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("button", {
              type: "button",
              className: "atss-button atss-button--primary",
              onClick: () => {
                setError(null);
                setImportStarted(false);
                setProgress(0);
              },
              children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Try Again', 'athemes-starter-sites')
            })]
          })
        })
      })
    });
  }

  // Completion state.
  if (isComplete) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Layout_Complete__WEBPACK_IMPORTED_MODULE_5__["default"], {});
  }

  // Progress state (default).
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
    className: "atss-onboarding-wizard__step atss-onboarding-wizard__step--import",
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("main", {
      className: "atss-onboarding-wizard__step-body",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div", {
        className: "atss-onboarding-wizard__step-body-content",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
          className: "atss-onboarding-wizard__spinner-circle",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Layout__WEBPACK_IMPORTED_MODULE_2__.Spinner, {})
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("h2", {
          className: "atss-onboarding-wizard__step-body-title text-xl font-medium",
          children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('We are building your website...', 'athemes-starter-sites')
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p", {
          className: "atss-onboarding-wizard__step-body-description text-sm text-secondary w100",
          children: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Please be patient and don\'t refresh this page, the import process may take a while', 'athemes-starter-sites')
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div", {
          className: "atss-import-progress",
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div", {
            className: "atss-import-progress__header flex justify-between items-center gap-xs",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
              className: "atss-import-progress__status text-md font-medium text-primary",
              children: status
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div", {
              className: "atss-import-progress__percentage text-sm text-secondary",
              children: [progress, "%"]
            })]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
            className: "atss-import-progress__bar",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div", {
              className: "atss-import-progress__fill",
              style: {
                '--progress-width': `${progress}%`
              }
            })
          })]
        })]
      })
    })
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Import);

/***/ }),

/***/ "./v2/onboarding/src/utils/config.js":
/*!*******************************************!*\
  !*** ./v2/onboarding/src/utils/config.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ACCOUNT_URL: () => (/* binding */ ACCOUNT_URL),
/* harmony export */   ATHEMES_BASE_URL: () => (/* binding */ ATHEMES_BASE_URL),
/* harmony export */   DEFAULT_UPGRADE_URL: () => (/* binding */ DEFAULT_UPGRADE_URL),
/* harmony export */   DOCUMENTATION_URL: () => (/* binding */ DOCUMENTATION_URL),
/* harmony export */   FACEBOOK_GROUP_URL: () => (/* binding */ FACEBOOK_GROUP_URL)
/* harmony export */ });
/**
 * Configuration constants for the onboarding wizard.
 *
 * @package Athemes Starter Sites
 */

/**
 * Base URL for Athemes website.
 *
 * @type {string}
 */
const ATHEMES_BASE_URL = 'https://athemes.com';

/**
 * Account dashboard URL.
 * This is the same for all products.
 *
 * @type {string}
 */
const ACCOUNT_URL = `${ATHEMES_BASE_URL}/account/`;

/**
 * Default upgrade URL.
 *
 * @type {string}
 */
const DEFAULT_UPGRADE_URL = `${ATHEMES_BASE_URL}/`;

/**
 * Documentation URL.
 * The theme name is passed as a parameter to the documentation URL.
 *
 * @type {string}
 */
const DOCUMENTATION_URL = `https://docs.athemes.com/documentation/${window.atssOnboarding?.themeName}`;

/**
 * Facebook Group URL.
 *
 * @type {string}
 */
const FACEBOOK_GROUP_URL = 'https://www.facebook.com/groups/athemes/';

/***/ })

}]);
//# sourceMappingURL=v2_onboarding_src_components_Steps_Import_js.js.map?ver=6d2945263021e568fdfd