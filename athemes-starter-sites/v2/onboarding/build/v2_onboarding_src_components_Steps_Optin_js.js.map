{"version":3,"file":"v2_onboarding_src_components_Steps_Optin_js.js?ver=0c45f94b423ecf0e54fa","mappings":"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","sources":["webpack://athemes-starter-sites/./v2/onboarding/src/components/Steps/Optin.js"],"sourcesContent":["/**\n * Optin step component.\n *\n * @package Athemes Starter Sites\n */\n\nimport { useState, useMemo, createInterpolateElement } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { TextControl } from '@wordpress/components';\nimport { useWizard } from '../../context/WizardContext';\nimport { Footer } from '../Layout';\nimport { validateEmail } from '../../utils/helpers';\nimport optinImageDefault from '../../assets/images/optin.jpg';\nimport optinImageSydney from '../../assets/images/optin-sydney.jpg';\nimport optinImageBotiga from '../../assets/images/optin-botiga.jpg';\nimport handsIcon from '../../assets/images/hands.png';\nimport heartGif from '../../assets/images/heart.gif';\n\n/**\n * Optin step component.\n *\n * @param {Object}   props            Component props.\n * @param {Function} props.onBack     Callback to go to previous step.\n * @param {Function} props.onContinue Callback to proceed to next step.\n * @return {JSX.Element} Optin component.\n */\nfunction Optin( { onBack, onContinue } ) {\n\tconst { wizardData } = useWizard();\n\tconst savedData = wizardData.optin || {};\n\n\tconst [ email, setEmail ] = useState( savedData.email || window.atssOnboarding?.adminEmail || '' );\n\tconst [ emailTouched, setEmailTouched ] = useState( false );\n\tconst [ emailError, setEmailError ] = useState( '' );\n\tconst [ optinChecked, setOptinChecked ] = useState( savedData.optinChecked !== undefined ? savedData.optinChecked : true );\n\n\t/**\n\t * Determine which optin image to use based on theme name.\n\t */\n\tconst optinImage = useMemo( () => {\n\t\tconst themeName = window.atssOnboarding?.themeName || 'sydney';\n\t\tconst normalizedThemeName = themeName.toLowerCase();\n\n\t\tif ( normalizedThemeName.includes( 'botiga' ) ) {\n\t\t\treturn optinImageBotiga;\n\t\t} else if ( normalizedThemeName.includes( 'sydney' ) ) {\n\t\t\treturn optinImageSydney;\n\t\t}\n\n\t\treturn optinImageDefault;\n\t}, [] );\n\n\t/**\n\t * Handle email field blur event.\n\t */\n\tconst handleEmailBlur = () => {\n\t\tsetEmailTouched( true );\n\t\tif ( email && ! validateEmail( email ) ) {\n\t\t\tsetEmailError( __( 'Please enter a valid email address', 'athemes-starter-sites' ) );\n\t\t} else {\n\t\t\tsetEmailError( '' );\n\t\t}\n\t};\n\n\t/**\n\t * Handle email field change event.\n\t */\n\tconst handleEmailChange = ( value ) => {\n\t\tsetEmail( value );\n\t\t// Clear error if email becomes valid\n\t\tif ( emailTouched && emailError && validateEmail( value ) ) {\n\t\t\tsetEmailError( '' );\n\t\t}\n\t};\n\n\t/**\n\t * Handle opt-in checkbox toggle.\n\t */\n\tconst handleOptinToggle = () => {\n\t\tsetOptinChecked( ! optinChecked );\n\t};\n\n\t/**\n\t * Handle continue button click.\n\t */\n\tconst handleContinue = () => {\n\t\tonContinue( {\n\t\t\temail,\n\t\t\toptinChecked,\n\t\t} );\n\t};\n\n\t/**\n\t * Handle skip button click.\n\t */\n\tconst handleSkip = () => {\n\t\tonContinue( {\n\t\t\temail: '',\n\t\t\toptinChecked: false,\n\t\t} );\n\t};\n\n\treturn (\n\t\t<div className=\"atss-onboarding-wizard__step atss-onboarding-wizard__step--optin\">\n\t\t\t<main className=\"atss-onboarding-wizard__step-body\">\n\t\t\t\t<div className=\"atss-onboarding-wizard__step-body-content w100\">\n\t\t\t\t\t<img src={ optinImage } alt={ __( 'Optin', 'athemes-starter-sites' ) } width=\"1200\" height=\"536\" />\n\n\t\t\t\t\t<div className=\"atss-onboarding-wizard__step-body-content-inner\">\n\t\t\t\t\t\t<h2 className=\"atss-onboarding-wizard__step-body-title text-xl font-medium\">\n\t\t\t\t\t\t\t{ __( 'Stay Updated with Latest Features & Releases', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p className=\"atss-onboarding-wizard__step-body-description text-sm text-secondary\">\n\t\t\t\t\t\t\t{ __( 'Subscribe to our newsletter to get notified about new updates, features, and releases', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<div className={ `atss-form-field w100${ emailError ? ' atss-form-field--has-error' : '' }` }>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Email', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t\t\tvalue={ email }\n\t\t\t\t\t\t\t\tonChange={ handleEmailChange }\n\t\t\t\t\t\t\t\tonBlur={ handleEmailBlur }\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tpattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\"\n\t\t\t\t\t\t\t\trequired={ true }\n\t\t\t\t\t\t\t\t__next40pxDefaultSize={ true }\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom={ true }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ emailError && (\n\t\t\t\t\t\t\t\t<span className=\"atss-form-field__error\">\n\t\t\t\t\t\t\t\t\t{ emailError }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<p className=\"text-xs text-tertiary text-align-left\">\n\t\t\t\t\t\t\t{ __( 'Your email is needed so you can receive community exclusive recommendations.', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<div className=\"atss-optin-box\">\n\t\t\t\t\t\t\t<div className=\"atss-optin-box__icon\">\n\t\t\t\t\t\t\t\t<img src={ handsIcon } alt=\"\" />\n\t\t\t\t\t\t\t\t{ ! optinChecked && (\n\t\t\t\t\t\t\t\t\t<img src={ heartGif } alt=\"\" className=\"atss-optin-box__icon-overlay\" />\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"atss-optin-box__text\">\n\t\t\t\t\t\t\t\t<h3 className=\"atss-optin-box__title\">\n\t\t\t\t\t\t\t\t\t{ __( 'Help make Sydney better for all!', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<p className=\"atss-optin-box__description\">\n\t\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\t__( 'By enabling you agree to our <a>Terms of Service</a> and to share your non-sensitive information with aThemes.', 'athemes-starter-sites' ),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ta: <a href=\"https://athemes.com/terms/\" target=\"_blank\" rel=\"noopener noreferrer\" />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName={ `atss-optin-box__checkbox ${ optinChecked ? 'atss-optin-box__checkbox--checked' : '' }` }\n\t\t\t\t\t\t\t\tonClick={ handleOptinToggle }\n\t\t\t\t\t\t\t\taria-checked={ optinChecked }\n\t\t\t\t\t\t\t\taria-label={ optinChecked ? __( 'Disable usage tracking', 'athemes-starter-sites' ) : __( 'Enable usage tracking', 'athemes-starter-sites' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ optinChecked && (\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\twidth=\"12\"\n\t\t\t\t\t\t\t\t\t\theight=\"10\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 12 10\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"atss-optin-box__checkmark\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M1 5L4.5 8.5L11 1\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"white\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</main>\n\n\t\t\t<Footer\n\t\t\t\tshowBack={ true }\n\t\t\t\tshowSkip={ true }\n\t\t\t\tcontinueText={ __( 'Start Import', 'athemes-starter-sites' ) }\n\t\t\t\tonBack={ onBack }\n\t\t\t\tonSkip={ handleSkip }\n\t\t\t\tonContinue={ handleContinue }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default Optin;\n"],"names":["useState","useMemo","createInterpolateElement","__","sprintf","TextControl","useWizard","Footer","validateEmail","optinImageDefault","optinImageSydney","optinImageBotiga","handsIcon","heartGif","jsx","_jsx","jsxs","_jsxs","Optin","onBack","onContinue","wizardData","savedData","optin","email","setEmail","window","atssOnboarding","adminEmail","emailTouched","setEmailTouched","emailError","setEmailError","optinChecked","setOptinChecked","undefined","optinImage","themeName","normalizedThemeName","toLowerCase","includes","handleEmailBlur","handleEmailChange","value","handleOptinToggle","handleContinue","handleSkip","className","children","src","alt","width","height","label","onChange","onBlur","type","pattern","required","__next40pxDefaultSize","__nextHasNoMarginBottom","a","href","target","rel","onClick","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","showBack","showSkip","continueText","onSkip"],"ignoreList":[],"sourceRoot":""}